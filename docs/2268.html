<html>
<head>
<title>Image Processing using Matlab/Octave — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Matlab/Octave进行图像处理—第二部分</h1>
<blockquote>原文：<a href="https://medium.com/swlh/image-processing-using-matlab-octave-part-2-218627067a5d?source=collection_archive---------4-----------------------#2019-04-12">https://medium.com/swlh/image-processing-using-matlab-octave-part-2-218627067a5d?source=collection_archive---------4-----------------------#2019-04-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e6365c2e996306900451ea1677010eaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aDlvs48C-i0ZHPpVOaxbGw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Photo by <a class="ae iu" href="https://unsplash.com/photos/LOnPLLM4rpQ?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Steve Johnson</a> on <a class="ae iu" href="https://unsplash.com/search/photos/art?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><blockquote class="iv"><p id="5430" class="iw ix hi hj iy iz ja jb jc jd je jf dx translated">在前一部分中，我们看到了什么是图像处理，它是如何工作的，以及Matlab/Octave的一些基础知识。在这一部分，我们将看到颜色模型，Matlab/Octave中的一些附加函数，以及如何进行基本的图像增强。</p></blockquote><h1 id="1ecf" class="jg jh hi bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd bi translated">什么是颜色模型？</h1><p id="da58" class="pw-post-body-paragraph ke kf hi kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la jf hb bi translated">颜色模型是一种将颜色表示为元组中三个或四个数字的组合的数学方法。</p><p id="38e3" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">让我们看一些彩色模型。</p><p id="9030" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><strong class="kg lg"> RGB(红绿蓝)</strong></p><figure class="li lj lk ll fd ij er es paragraph-image"><div class="er es lh"><img src="../Images/02151f6ca0423c37544a918e049f1c09.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*IimAwauEvO3FvWHx-JzsbQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">RGB Color Model</figcaption></figure><p id="5dde" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">这是一个加色模型，你可以看到所有原色红、绿、蓝的混合产生白色，你还可以看到青色、品红色和黄色。</p><p id="fbe8" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><strong class="kg lg"> CMY(青色品红黄色)</strong></p><figure class="li lj lk ll fd ij er es paragraph-image"><div class="er es lh"><img src="../Images/89df096282654e11e78488a6f0a83ee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*kH2InX11jz79iwU5tthNLg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">CMY Color Model</figcaption></figure><p id="8d7e" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">在这里，将这三种物质混合在一起就成了黑色。这种模式在印刷中广泛使用，但由于这种黑色不是纯黑色，所以添加了K(Key)来完成CMYK，其中K代表黑色。</p><p id="58ce" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">另一个颜色模型<strong class="kg lg"> HSV(色调饱和度值)</strong>也被使用。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div class="er es lm"><img src="../Images/615a9035b5541df110173a297f28f26c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*JopIoR0pvjGB7sw19LAHQw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx"><a class="ae iu" href="http://gagauznews.md/22463/dualizm-fundamentalnoe-svojstvo-nashego-mira-ili-razvodka.html" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="58f9" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">在这里，你可以看到圆锥越靠近底部，颜色越深(值)，在圆锥的边缘颜色最亮(饱和度)，在圆周上你可以看到不同的颜色(色调)。</p><h1 id="69a0" class="jg jh hi bd ji jj jk jl jm jn jo jp jq jr ln jt ju jv lo jx jy jz lp kb kc kd bi translated">Matlab/Octave中的附加函数</h1><p id="3bb3" class="pw-post-body-paragraph ke kf hi kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la jf hb bi translated">首先，我们将了解如何在Matlab中读取/写入图像并显示它们。</p><p id="26d5" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><strong class="kg lg">读数</strong>:</p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="fab0" class="lv jh hi lr b fi lw lx l ly lz">                  img = imread(“lena.png”);</span></pre><p id="fff0" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><strong class="kg lg">写作</strong>:</p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="fff7" class="lv jh hi lr b fi lw lx l ly lz">                  imwrite(img, “Lena.png”);</span></pre><p id="f4ce" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><strong class="kg lg">显示</strong>:</p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="70f6" class="lv jh hi lr b fi lw lx l ly lz">                         imshow(img); </span></pre><p id="b81e" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><strong class="kg lg">图像转换</strong></p><p id="dbe7" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">为了在图像之间进行转换，Matlab中有内置函数，例如:</p><p id="c797" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><strong class="kg lg"> RGB →灰色:</strong></p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="4918" class="lv jh hi lr b fi lw lx l ly lz">                  gray_image = rgb2gray(rgb_image);</span></pre><p id="682b" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><strong class="kg lg">RGB→二进制:</strong></p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="8e92" class="lv jh hi lr b fi lw lx l ly lz">                     binary = im2bw(rgb_image);</span></pre><p id="7d93" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><strong class="kg lg"> RGB → HSV: </strong></p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="832b" class="lv jh hi lr b fi lw lx l ly lz">                   hsv_image = rgb2hsv(rgb_image);</span></pre><h1 id="a967" class="jg jh hi bd ji jj jk jl jm jn jo jp jq jr ln jt ju jv lo jx jy jz lp kb kc kd bi translated">图像增强</h1><p id="d19b" class="pw-post-body-paragraph ke kf hi kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la jf hb bi translated">增强的目的是处理图像，使得结果比原始图像更适合特定的应用。图像增强方法分为两大类:空间域和频率域。</p><p id="ef89" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">在空间域中，直接在图像的像素上进行图像操作。它可以表示为:</p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="a41c" class="lv jh hi lr b fi lw lx l ly lz">                    G(x, y) = T[F(x, y)]</span></pre><p id="73b1" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">其中，(x，y)是像素的坐标，F是输入图像，G是增强图像，T是F上的算子。</p><p id="dd1b" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">现在让我们看看这些运算符:</p><ol class=""><li id="4bd0" class="ma mb hi kg b kh lb kl lc kp mc kt md kx me jf mf mg mh mi bi translated"><strong class="kg lg">图像阴性</strong></li></ol><p id="24a8" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">图像的负片就是从255的灰度图像中减去像素值。它的形式如下:</p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="80e1" class="lv jh hi lr b fi lw lx l ly lz">                           N = (L - 1) - I</span></pre><p id="1b71" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">其中，L-1 = 255，用于灰度图像，I是图像像素。</p><p id="563c" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">现在让我们在Matlab中实现它:</p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="0b69" class="lv jh hi lr b fi lw lx l ly lz">clear all; % clear all variables<br/>close all; % close all figures<br/>clc;       % clear command window</span><span id="fe98" class="lv jh hi lr b fi mj lx l ly lz">% import image package<br/>pkg load image;</span><span id="940c" class="lv jh hi lr b fi mj lx l ly lz">% read image<br/>img = imread(“lena.png”);</span><span id="b4c2" class="lv jh hi lr b fi mj lx l ly lz">% convert image into gray and then from uint8 to double<br/>grayscale_img = rgb2gray(img);</span><span id="cce2" class="lv jh hi lr b fi mj lx l ly lz">% show grayscale image<br/>figure<br/>imshow(grayscale_img);<br/>title(“grayscale image”);<br/>imwrite(grayscale_img, “original.jpg”);</span><span id="190c" class="lv jh hi lr b fi mj lx l ly lz"># calculate negative of the image<br/>output = 255 — grayscale_img;</span><span id="8cf5" class="lv jh hi lr b fi mj lx l ly lz">% show output image<br/>figure<br/>imshow(uint8(output));<br/>title(“output image”);<br/>imwrite(uint8(output), “negative_tansformation.jpg”);</span></pre><p id="11df" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">前3行清除内存中的变量，关闭所有打开的窗口，并清空终端。</p><p id="0359" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">然后，我们导入图像包。如果你不知道如何做到这一点，去<a class="ae iu" href="https://octave.sourceforge.io/image/index.html" rel="noopener ugc nofollow" target="_blank">这里</a>并且下载这个包并且跟随这个<a class="ae iu" href="https://octave.org/doc/v4.2.1/Installing-and-Removing-Packages.html" rel="noopener ugc nofollow" target="_blank">教程</a>。</p><p id="d403" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">现在图像被读取并转换成灰度。在这之后，一个新的窗口被创建，图像显示为标题“灰度图像”并被写入“原始. jpg”。</p><p id="8e1e" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><em class="mk">“输出”</em>是输入图像的负片，进行同样的显示和写入。</p><p id="f37c" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><strong class="kg lg"> 2。日志转换:</strong></p><p id="df5f" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">这是通过以下操作完成的:</p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="706b" class="lv jh hi lr b fi lw lx l ly lz">                           s = c log(1+r)</span></pre><p id="8922" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">其中c是常数。</p><p id="e991" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">它扩展了暗像素的值(接近0)并压缩了较高等级的值(接近255)，即压缩了图像的<a class="ae iu" href="https://en.wikipedia.org/wiki/Dynamic_range" rel="noopener ugc nofollow" target="_blank">动态范围</a>，图像看起来褪色了。</p><p id="b2a7" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">代码:</p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="5f1e" class="lv jh hi lr b fi lw lx l ly lz">c = 45;<br/>output = c * log(1 + grayscale_img);</span></pre><p id="e798" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><strong class="kg lg"> 3。幂律变换</strong></p><p id="3bd8" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">它也被称为伽马校正。它的基本形式是:</p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="3a62" class="lv jh hi lr b fi lw lx l ly lz">                             s = c * r^𝛄</span></pre><p id="6048" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">其中c和𝛄是常数，r是输入图像。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div class="er es ml"><img src="../Images/b53e5552e95ba7dc23208af18d47dd57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*OhrBbrmQU0ilR0iHac9jjg.png"/></div></figure><p id="cba2" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">这是一个s对𝛄的曲线图，其中𝛄 &lt; 1 results in dark values and 𝛄 &gt; 1产生了明亮的值。</p><p id="4160" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">代码:</p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="af44" class="lv jh hi lr b fi lw lx l ly lz">r = double(img)/255;<br/>c = 1;<br/>gamma = 0.6;<br/>s = c * (r) .^ gamma;</span></pre><p id="aedb" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><strong class="kg lg"> 4。对比度拉伸</strong></p><p id="51d5" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">对比度是图像“范围”的量度；即它的强度有多分散。</p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="746c" class="lv jh hi lr b fi lw lx l ly lz">            Contrast = ( Imax — Imin ) / ( Imax + Imin )</span></pre><p id="f135" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">它将图像中的最小强度映射到范围(0–100)中的最小值，将图像中的最大强度映射到最大值(200–255)。对比度拉伸就是增加图像中最大强度值和最小强度值之间的差异。所有剩余的强度值都分布在这个范围内。</p><p id="c448" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">代码:</p><p id="9a4b" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">使用<em class="mk"> imadjust </em>只用一行代码就可以完成。</p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="0e97" class="lv jh hi lr b fi lw lx l ly lz">cs = imadjust(gray_img, stretchlim(gray_img),[]);</span></pre><p id="ad60" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">或者用下面的公式:</p><pre class="li lj lk ll fd lq lr ls lt aw lu bi"><span id="98e5" class="lv jh hi lr b fi lw lx l ly lz">a      = min(img(:));            %minimum pixel of image X<br/>b      = max(img(:));            %maximum pixel of image X <br/>cs_img = (img - a) .* (255 / (b - a));</span></pre><p id="d0c3" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">接下来，我们将看到使用MATLAB/Octave的图像滤波。</p></div><div class="ab cl mm mn gp mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hb hc hd he hf"><p id="219f" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">请点击👏按钮，如果你喜欢这个帖子，拿着它给更多的爱。</p><p id="5b2d" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated">如果您希望连接:</p><p id="92ca" class="pw-post-body-paragraph ke kf hi kg b kh lb kj kk kl lc kn ko kp ld kr ks kt le kv kw kx lf kz la jf hb bi translated"><a class="ae iu" href="https://github.com/adesgautam" rel="noopener ugc nofollow" target="_blank"><strong class="kg lg">Github</strong></a><strong class="kg lg"/><a class="ae iu" href="https://www.linkedin.com/in/adesh-gautam-518810127/" rel="noopener ugc nofollow" target="_blank"><strong class="kg lg">LinkedIn</strong></a><strong class="kg lg"/><a class="ae iu" href="https://twitter.com/gautamades" rel="noopener ugc nofollow" target="_blank"><strong class="kg lg">Twitter</strong></a><strong class="kg lg"/><a class="ae iu" href="https://www.instagram.com/adeshgautam/" rel="noopener ugc nofollow" target="_blank"><strong class="kg lg">insta gram</strong></a></p><figure class="li lj lk ll fd ij er es paragraph-image"><a href="https://medium.com/swlh"><div class="er es mt"><img src="../Images/308a8d84fb9b2fab43d66c117fcc4bb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YqDjlKFwScoQYQ62DWEdig.png"/></div></a></figure><h2 id="c148" class="lv jh hi bd ji mu mv mw jm mx my mz jq kp na nb ju kt nc nd jy kx ne nf kc ng bi translated">这篇文章发表在<a class="ae iu" href="https://medium.com/swlh" rel="noopener"> The Startup </a>上，这是Medium最大的创业刊物，拥有+442，678读者。</h2><h2 id="869c" class="lv jh hi bd ji mu mv mw jm mx my mz jq kp na nb ju kt nc nd jy kx ne nf kc ng bi translated">在这里订阅接收<a class="ae iu" href="https://growthsupply.com/the-startup-newsletter/" rel="noopener ugc nofollow" target="_blank">我们的头条新闻</a>。</h2><figure class="li lj lk ll fd ij er es paragraph-image"><a href="https://medium.com/swlh"><div class="er es mt"><img src="../Images/b0164736ea17a63403e660de5dedf91a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ouK9XR4xuNWtCes-TIUNAw.png"/></div></a></figure></div></div>    
</body>
</html>