<html>
<head>
<title>When To Drop SQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">何时删除SQL</h1>
<blockquote>原文：<a href="https://medium.com/swlh/when-to-drop-sql-a7cc1b9ab2e5#2019-06-05">https://medium.com/swlh/when-to-drop-sql-a7cc1b9ab2e5#2019-06-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/b39dfe6397cd0292f7e1bf26783cf2a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2UDbUrPwZ2Tb8V0WKEDupQ.png"/></div></div></figure><div class=""/><p id="46bd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">随着技术的发展和变化，为了更好地满足用户的需求，与之交互的方法(以及它的形式)也会随之改变，这是很自然的。我们可以在过去十年涌现的无数新编程语言中清楚地看到这一点，每一种语言都试图更接近地反映程序员的思维方式。</p><p id="180f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">SQL是在70年代由IBM的工程师发明的，从一开始就是数据库技术的主要部分。通过创建将表链接在一起的能力，SQL使访问相关数据成为一个简单的过程，并为相同数据的完整性创造了奇迹；没有一条信息会被存储两次——任何事物都是作为与其他事物的关系的一部分而存在的。</p><p id="fd0f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然而现在，SQL发明已经快50年了，需要操作的数据量急剧增加。由于大型服务器和较慢的速度，SQL一直在努力满足工程师们不断增长的需求。这个问题的解决方法非常简单:NoSQL数据库。</p><h1 id="f3ba" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">成为NoSQL数据库意味着什么？</h1><p id="857a" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">人们在考虑NoSQL数据库时犯的一个常见错误是假设NoSQL意味着它不会有任何SQL。事实上，NoSQL数据库实际上是<em class="kr">非关系数据库</em>。这意味着它们没有构成关系数据库系统核心的外键交织。</p><p id="c254" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我们将使用<a class="ae ks" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoDB </a>作为我们的NoSQL数据库模型，但是有许多服务，在各种各样的模型中，您都可以使用。为了启发你:</p><ul class=""><li id="dea7" class="kt ku ht is b it iu ix iy jb kv jf kw jj kx jn ky kz la lb bi translated">文档数据库:<a class="ae ks" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoDB </a>，<a class="ae ks" href="http://couchdb.apache.org/" rel="noopener ugc nofollow" target="_blank"> CouchDB </a></li><li id="796e" class="kt ku ht is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">列数据库:<a class="ae ks" href="http://cassandra.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache Cassandra </a></li><li id="5053" class="kt ku ht is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">键值存储:<a class="ae ks" href="https://redis.io/" rel="noopener ugc nofollow" target="_blank"> Redis </a>，<a class="ae ks" href="https://www.couchbase.com/" rel="noopener ugc nofollow" target="_blank"> Couchbase Server </a></li><li id="ba62" class="kt ku ht is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">缓存系统:<a class="ae ks" href="https://redis.io/" rel="noopener ugc nofollow" target="_blank"> Redis </a>，<a class="ae ks" href="https://memcached.org/" rel="noopener ugc nofollow" target="_blank"> Memcached </a></li><li id="9eff" class="kt ku ht is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated">图形数据库:<a class="ae ks" href="https://neo4j.com/" rel="noopener ugc nofollow" target="_blank"> Neo4J </a></li></ul><p id="d7d3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">每一种都有不同的优点/缺点。如果您的数据非常简单，键值存储会非常强大；文档数据库是无模式的、JSON邻近的存储，以一种非常直观和可靠的方法提供数据。</p><p id="0238" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然而，本文是关于理解何时应该选择使用NoSQL而不是RDMS(关系数据库管理系统)。考虑到这一点，让我们深入了解是什么让NoSQL现在如此受欢迎。</p><h1 id="15da" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">NoSQL与关系数据库的比较</h1><figure class="li lj lk ll fd hk er es paragraph-image"><div class="er es lh"><img src="../Images/42eff7b1ea0f897071056e2c4d35edb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*F32Oj9SO2KJXow61brkdxg.jpeg"/></div><figcaption class="lm ln et er es lo lp bd b be z dx">Fig 1: Scalability of NoSQL Databases, courtesy of <a class="ae ks" href="https://datajobs.com/" rel="noopener ugc nofollow" target="_blank">DataJobs.com</a></figcaption></figure><p id="01a3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">NoSQL数据库最大的优势是可伸缩性，这也是它们脱颖而出的原因。如图1所示，NoSQL数据库可以无限增长，而不会对性能产生重大影响。另一方面，关系数据库相对来说很快就出问题了。值得注意的是，在中小型数据库中，关系模型的速度有小幅提升。</p><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lq"><img src="../Images/8c26d9961b9eed136ef54fdacde75a0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D3mr5VCBQ6IAfznjnbKi3w.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">Fig 2: Timing of operations between MySQL and MongoDB, courtesy of <a class="ae ks" href="https://dzone.com" rel="noopener ugc nofollow" target="_blank">dzone.com</a></figcaption></figure><p id="261b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，关系数据库有一件事做得非常好:它们检索特定的数据。SQL旨在利用关系非常高效地解析并返回特定记录。另一方面，当插入或更新记录时，它需要检查和更新所有这些关系。对于大数据应用程序来说，这并不理想。当你有几十亿条记录时，花很长时间来插入或更新记录是非常糟糕的。图2很好地说明了这一点。</p><p id="be79" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，如果您的模式经常变化，您将需要设计一个适应每一个小变化的模式。有了NoSQL数据库，你就不用担心这个问题了。数据只是作为blob放入服务器。你把你放进去的东西拿出来，没有规定你能放进去什么，不能放进去什么。</p><p id="8add" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后一个主要的考虑是许多软件爱好者不愿意考虑的:物理约束。因为它们是必然交织在一起的，所以RDMS表需要能够彼此对话，并且能够自言自语。这导致了经典的<em class="kr">服务器塔</em>，或者单个大型机器。</p><p id="dd52" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为NoSQL数据库只是存储大量的数据，它们实际上不需要能够相互交流；应用程序只需要能够访问它们。因此，它们可以分布在几台机器上，每台机器都不需要知道其他机器。因此，NoSQL服务器实际上要便宜得多，而且在占用空间方面也更灵活。</p><h1 id="c277" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">句法</h1><p id="64cb" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">与所有技术一样，设置和生产的时间应该始终考虑在内。调动带来的好处值得为搬家而头疼吗？</p><p id="3f1e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">SQL是它自己的编程语言，有非常具体的语法。另一方面，MongoDB使用一种与javascript和许多其他前端语言非常相似的语言。数据作为普通的旧Javascript对象(POJO)插入，并以类似的方式检索。</p><p id="92b9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面是两种语言的表创建语法的比较:</p><figure class="li lj lk ll fd hk"><div class="bz dy l di"><div class="lr ls l"/></div><figcaption class="lm ln et er es lo lp bd b be z dx">Fig 3: comparison of MySQL table creation to MongoDB</figcaption></figure><p id="0be8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">马上我们可以看到，MongoDB的语法不仅看起来与Javascript极其相似，而且更加简洁。此外，对于任何经验丰富的程序员来说，MongoDB都非常清晰易懂——没有太多的学习曲线。</p><p id="6e89" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">值得注意的是，我们可以在第4行看到:SQL数据库允许对数据进行限制。这就是所谓的<em class="kr">数据完整性</em>。SQL可以对其数据做出保证，而NoSQL却不能。它可以执行服务器端验证，并防止重复数据。如果一个对象通过某种关系被许多人共享，那么这个对象就需要在NoSQL数据库中存储多次。虽然NoSQL确实通过降低特异性提高了速度和易用性，但为了达到同样的效率，需要做出一些妥协，这是值得注意的。</p><figure class="li lj lk ll fd hk"><div class="bz dy l di"><div class="lr ls l"/></div><figcaption class="lm ln et er es lo lp bd b be z dx">Fig 4: comparison of MySQL to MongoDB on insert</figcaption></figure><p id="8cc4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个更简单。同样，MongoDB示例看起来仍然像javascript，SQL看起来仍然有点陌生，但所有这些都非常相似。更新稍微复杂一些:</p><figure class="li lj lk ll fd hk"><div class="bz dy l di"><div class="lr ls l"/></div><figcaption class="lm ln et er es lo lp bd b be z dx">Fig 5: Updating Dave to be Sally</figcaption></figure><p id="f457" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">虽然这两个看起来不同，但它们实际上遵循相似的模式。首先，它们都定义了要使用的表(MongoDB通过名称将表存储为<code class="du lt lu lv lw b">db</code>变量的一部分)。我们在表上调用update，给出一个搜索参数(<code class="du lt lu lv lw b">my_table.update()</code>的参数1)和一个要更新的字段/值。</p><p id="cc1d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">至此，应该可以清楚地看到，MongoDB使用基本的、容易理解的语法来完成大部分工作；如果您已经掌握了JSON的工作原理，在一个下午的时间里学会这些并不困难。</p><h1 id="0da4" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">哪个更好？</h1><p id="e5c3" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">事实上，两者都不是。这两种方法之所以存在，是因为它们是为满足特定需求而创建的。随着我们科学知识的增长，新技术自然会出现来解决来自新领域的问题。</p><p id="f6a0" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">RDMS以一种直观快捷的方式简化了数据库项之间的关系。NoSQL来解决RDMS服务器因堆积如山的数据而过载的问题。关键是理解你自己的数据的限制和局限性，以及如何最好地处理它。一般来说，问这些问题:</p><ol class=""><li id="15aa" class="kt ku ht is b it iu ix iy jb kv jf kw jj kx jn lx kz la lb bi translated">我能从一套模式中获益吗？</li><li id="2d72" class="kt ku ht is b it lc ix ld jb le jf lf jj lg jn lx kz la lb bi translated">我的数据库需要存储多少条记录？</li><li id="7f44" class="kt ku ht is b it lc ix ld jb le jf lf jj lg jn lx kz la lb bi translated">我的数据需要安全合规吗？(很多NoSQL的数据库都不是)</li><li id="4e0c" class="kt ku ht is b it lc ix ld jb le jf lf jj lg jn lx kz la lb bi translated">通过强制数据库中每个对象的唯一性，我可以节省多少空间？我有多关心我的数据库的完整性？</li><li id="1970" class="kt ku ht is b it lc ix ld jb le jf lf jj lg jn lx kz la lb bi translated">在我的数据库中，什么样的操作是常见的？我会做大量的更新、选择或插入吗？</li></ol><p id="1ccc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当您回答这些问题时，您开始看到您的数据库的形式。此时，只需选择最符合您需求的数据库。这不是关于对错:这是关于知道什么时候用螺丝刀，什么时候用锤子。这个世界充满了工具，一个好的工程师不应该在试图用扳手钉钉子的时候被撞死。</p><h1 id="dc70" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">来源</h1><p id="53fa" class="pw-post-body-paragraph iq ir ht is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">旅游媒体教程:NoSQL数据库介绍</p><div class="hh hi ez fb hj ly"><a href="https://dzone.com/articles/comparing-mongodb-amp-mysql" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="hu b fi z dy md ea eb me ed ef hs bi translated">MongoDB与MySQL - DZone数据库</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">从模式灵活性、关系、性能、速度、安全性等方面来看MongoDB与MySQL。</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">dzone.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm hp ly"/></div></div></a></div><div class="hh hi ez fb hj ly"><a href="https://www.geeksforgeeks.org/introduction-to-nosql/" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="hu b fi z dy md ea eb me ed ef hs bi translated">NoSQL介绍-极客论坛</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">NoSQL最初指的是非SQL或非关系数据库，是一种提供存储和管理机制的数据库</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">www.geeksforgeeks.org</p></div></div><div class="mh l"><div class="mn l mj mk ml mh mm hp ly"/></div></div></a></div><div class="hh hi ez fb hj ly"><a href="https://datajobs.com" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="hu b fi z dy md ea eb me ed ef hs bi translated">DataJobs.com:分析工作、Hadoop工作、DBA工作、数据科学工作</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">面向所有大数据的工作板-数据科学家、数据库管理员、Hadoop技术、分析、数据分析师。我们相配…</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">datajobs.com</p></div></div><div class="mh l"><div class="mo l mj mk ml mh mm hp ly"/></div></div></a></div><p id="b64f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">横幅提供者:</p><div class="hh hi ez fb hj ly"><a href="https://panoply.io/" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="hu b fi z dy md ea eb me ed ef hs bi translated">全景智能云数据仓库</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">Panoply是一个人工智能驱动的自主云数据仓库。借助Panoply，您可以将任何孤立的数据转化为洞察力…</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">panoply.io</p></div></div></div></a></div></div></div>    
</body>
</html>