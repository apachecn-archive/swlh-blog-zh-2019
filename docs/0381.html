<html>
<head>
<title>Angular NGX-Translate Lazy Loaded Modules</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">angular NGX-转换惰性加载模块</h1>
<blockquote>原文：<a href="https://medium.com/swlh/angular-7-ngx-translate-lazy-loaded-modules-36d586b82ba4#2019-01-21">https://medium.com/swlh/angular-7-ngx-translate-lazy-loaded-modules-36d586b82ba4#2019-01-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/fbe07bea8092b12cf41e7c032dd153d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LdSXepcpodlyp4Rs8r1lQg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Angular + NGX translate</figcaption></figure><p id="9371" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="js">我们很多人使用</em><a class="ae jt" href="http://www.ngx-translate.com/" rel="noopener ugc nofollow" target="_blank"><em class="js">ngx-translate</em></a><em class="js"/>来管理angular app中的翻译。</p><p id="eb71" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你有没有遇到过这样的情况:在<strong class="iw ju">翻译管道</strong>和<strong class="iw ju">翻译</strong> <strong class="iw ju">服务</strong>的情况下，你有懒惰加载的模块而<em class="js"> ngx-translate </em>无法翻译app。</p><p id="5567" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">很可能你已经在StackOverflow，Google等网站上搜索过答案了。</p><p id="18eb" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在<em class="js"> ngx-translate </em>文档中，我们看到我们可以执行<em class="js">translate module . for child({ })，</em>如果我们不隔离这个翻译，它应该使用默认文件。</p><figure class="jw jx jy jz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jv"><img src="../Images/aae5556aa3f8d740dda6710b6018e4e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8YU_uKsDmq_pRQJINKqLhw.png"/></div></div></figure><p id="e1e4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但是，如果你去看这个<a class="ae jt" href="https://github.com/ngx-translate/core/issues/425" rel="noopener ugc nofollow" target="_blank"> <strong class="iw ju"> <em class="js">问题</em> </strong> </a>你会发现它并不像预期的那样工作。这里还有一点很重要，那就是这个bug是很久以前提交的，在2017年2月11日。所以当我现在写的时候，差不多是一年前了。</p><p id="80b4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们可以用isolate: true为每个模块加载单独的文件，但是如果您想要共享在<em class="js"> forRoot({})中使用的主文件呢？</em></p><p id="854a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然后我建议创建你自己的翻译管道(async - my case)和你自己的翻译服务。</p><h2 id="d0b6" class="ka kb hi bd kc kd ke kf kg kh ki kj kk jf kl km kn jj ko kp kq jn kr ks kt ku bi translated">平移管道</h2><p id="06c7" class="pw-post-body-paragraph iu iv hi iw b ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn kz jp jq jr hb bi translated">管道的简单示例代码:</p><figure class="jw jx jy jz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="ac4a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="js">用法:</em></p><p id="5799" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">只需将它添加到您的共享模块中，并在您的HTML中将其命名为</p><blockquote class="lc ld le"><p id="757e" class="iu iv js iw b ix iy iz ja jb jc jd je lf jg jh ji lg jk jl jm lh jo jp jq jr hb bi translated"><em class="hi">&lt;div&gt;{ { your translation key | ebTranslateLazy | async } }&lt;/div&gt;。</em></p></blockquote><p id="8507" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw ju">翻译服务</strong></p><p id="3c47" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果您设置了<code class="du li lj lk ll b">@Injectable({<br/> providedIn: 'root',<br/>})</code>，您可以将Pipe作为服务使用</p><p id="41a8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但是如果你想创建一个单独的服务没问题，代码基本上是一样的。</p><p id="c48e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">注意中提供的<em class="js">是符号，优选从角度6°开始。对于较低版本，请在模块的providers数组中声明它。这同样适用于我们的服务。</em></p><figure class="jw jx jy jz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="39e1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="js">用法:</em></p><p id="7538" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">只需在组件的构造函数中注入服务或管道，在需要的地方使用服务</p><p id="5574" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="js">this . translatelazyservice . stream(值)。subscribe(item =&gt;{ do something(item)})；。</em></p><p id="c53e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">希望你喜欢。</p><p id="c5e0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw ju">作者:</strong> <a class="lm ln ge" href="https://medium.com/u/3cf54a8924de?source=post_page-----36d586b82ba4--------------------------------" rel="noopener" target="_blank"> <strong class="iw ju">米罗斯拉夫</strong> </a></p></div></div>    
</body>
</html>