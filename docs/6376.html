<html>
<head>
<title>Writing a simple task Applet for Cinnamon Desktop</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为Cinnamon桌面编写一个简单的任务小程序</h1>
<blockquote>原文：<a href="https://medium.com/swlh/writing-a-simple-task-applet-for-cinnamon-desktop-38cc4e499372?source=collection_archive---------11-----------------------#2019-06-20">https://medium.com/swlh/writing-a-simple-task-applet-for-cinnamon-desktop-38cc4e499372?source=collection_archive---------11-----------------------#2019-06-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7c0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不久前，我安装了Arch Linux。宇宙法则规定我在山顶喊出它，所以我们在这里。当我决定使用哪种桌面环境时，我想尝试一些新的东西；我用了Ubuntu很多次，所以我想避开Unity和Gnome。进入<a class="ae jd" href="https://github.com/linuxmint/Cinnamon" rel="noopener ugc nofollow" target="_blank">肉桂</a>。它相当受欢迎，我听说过它的好处，所以我想我应该试一试。</p><p id="4e01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我以前从未为Gnome或Cinnamon开发过，所以创建Applet对我来说是一个新领域。这是一次有趣的旅程，所以我将在这里分享我的经历，希望能帮助其他想做同样事情的人。</p><h1 id="e422" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">一个基本的用例</h1><p id="c950" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">当我在家使用台式电脑时，我经常需要在扬声器和耳机之间切换音频输出。在Windows上，这是相当微不足道的；我可以点击系统托盘中的音量图标，点击设备下拉菜单，选择我想要的输出设备。</p><p id="237e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为此，我使用了键盘快捷键<a class="ae jd" href="https://soundswitch.aaflalo.me/" rel="noopener ugc nofollow" target="_blank"> SoundSwitch、</a>，这也很有用，因为我可以告诉它我想要在旋转中使用哪些设备，从而消除诸如纯数字或虚拟输出设备之类的干扰。这意味着我可以通过键盘快捷键<em class="kh"> Ctrl+Alt+F11 </em>在任何应用程序中快速切换扬声器和耳机。</p><p id="2a83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我将在下一节解释的那样，在Linux上这并不简单。从好的方面来看，这意味着我可以创造一些东西了！我最初的目标很简单:通过使用键盘快捷键来切换音频输出设备。</p><h1 id="2ead" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">探索解决方案</h1><p id="17cd" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">为什么我首先需要创建自定义的东西？就我的声卡而言，扬声器和耳机显示为单个<em class="kh">设备</em>上的两个<em class="kh">接收器</em>。主动接收器是通过物理地插入和拔出耳机来触发的，而且，至少在Gnome和Cinnamon中，不可能强制激活其中一个。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ki"><img src="../Images/caced548623fa80fec882374315572c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UExiCLwsyJt-n_JKPzqT2g.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx">Cinnamon’s sound settings don’t have an option to change the active sink.</figcaption></figure><p id="5233" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用<code class="du ky kz la lb b">alsamixer</code>可以获得更细粒度的控制。它为设备和接收器提供了混音器接口，以及一些低级声音设置。在用F6选择了我的声卡之后，我看到了混音器。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es lc"><img src="../Images/b14d9978ba255f63451715ecd1309524.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/format:webp/1*4kHk89nnyDLob_ia6s5LlA.png"/></div></div></figure><p id="cb4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ky kz la lb b">Headphones</code>和<code class="du ky kz la lb b">Front</code>是我要找的水槽。将<code class="du ky kz la lb b">Auto-Mute Mode</code> <em class="kh"> </em>设置为<code class="du ky kz la lb b">Disabled</code>后，我可以通过将一个滑块设置为0，另一个设置为100来切换输出。这里只有一个问题:<em class="kh"> alsamixer </em>是一个交互式终端应用程序，因此不适合编写脚本。</p><p id="dfab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">幸运的是，<code class="du ky kz la lb b">amixer</code>提供了类似的功能，但是使用的是非交互式命令。</p><pre class="kj kk kl km fd ld lb le lf aw lg bi"><span id="4616" class="lh jf hi lb b fi li lj l lk ll">amixer -c0 set "Auto-Mute Mode" Disabled # Disable auto-muting<br/>amixer -c0 set 'old-device-name' 0%      # Mute the old device<br/>amixer -c0 set 'new-device-name' 100%    # Enable the new device</span></pre><p id="4350" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另外，我需要使用<code class="du ky kz la lb b">pactl</code>来告诉操作系统我们正在使用哪个接收器。</p><pre class="kj kk kl km fd ld lb le lf aw lg bi"><span id="e83b" class="lh jf hi lb b fi li lj l lk ll">pactl set-sink-port 0 'sink-name'        # Set the desired sink</span></pre><p id="d9cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">到目前为止，一切顺利。如果我使用正确的设备和接收器名称运行这些程序，我可以将输出切换到我想要的设备。</p><h1 id="f6d1" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">编写脚本</h1><p id="2b12" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">为了离我的目标更近一步，我需要一个脚本来运行上述命令，以便输出设备可以来回切换。我还选择使用<code class="du ky kz la lb b">notify-send</code> <em class="kh"> </em>来显示一个短暂的桌面通知，让我知道输出已经成功更改。这是我想到的:</p><figure class="kj kk kl km fd kn"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="8cff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们做到了！每次运行这个脚本时，它都会在耳机和扬声器之间切换。</p><h1 id="ce2b" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">键盘快捷键</h1><p id="ead9" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">现在我有了解决方案的脚本，我需要告诉Cinnamon在按下所需的键盘快捷键时运行它。谢天谢地，这并不难。<em class="kh">键盘</em>菜单有一个添加自定义快捷键的选项卡。设置好想要的组合键后，我把它指向我写的脚本。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es lo"><img src="../Images/b1af3153a276c977f12913a3fb88c4e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0r2G9UNIaKFQoKXYAu1k5g.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx">I wanted to make the shortcut Ctrl+Alt+F11 like SoundSwitch, but that’s reserved for TTY, so Ctrl+F11 did the trick.</figcaption></figure><p id="5799" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这似乎符合我的要求！按下<em class="kh"> Ctrl+F11 </em>将调用脚本，它将切换音频设备并发送一个漂亮的小通知。</p><h1 id="a20b" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">更上一层楼</h1><p id="6d56" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">我实际上在我的工作流程中使用了上面的脚本一段时间，但是感觉好像缺少了什么。我希望有一个指示器，显示当前选择了哪个设备，以及通过鼠标点击切换设备的能力。系统托盘似乎是最适合这一点。有一段时间，我试图在Cinnamon的系统托盘中搜索编写应用程序的教程，结果出人意料地少。最终我意识到为什么:Cinnamon上的系统托盘应用程序有一个名字:<a class="ae jd" href="https://cinnamon-spices.linuxmint.com/applets" rel="noopener ugc nofollow" target="_blank">小程序</a>。</p><h1 id="8970" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">编写我们的第一个Applet</h1><p id="d1a2" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">作为一名用户，到目前为止，我对肉桂非常满意。它简单、美观、可定制。另一方面，作为一名开发人员，我对此非常失望。</p><p id="094e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">肉桂是<a class="ae jd" href="https://www.gnome.org/" rel="noopener ugc nofollow" target="_blank">侏儒</a>的叉子。正因为如此，它继承了它的很多功能。这是一件好事:Gnome有很好的文档记录(除了一些明显的例外)并且很受欢迎，这使得它对像我这样的新手相对来说很受欢迎。</p><p id="3542" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">问题是Cinnamon对Gnome的改变没有很好的记录，至少对我来说，很难找到，或者在某些情况下不存在。</p><p id="581a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">他们确实提供了如何编写简单Applet的快速教程。我以此为起点开始修补。伊莱·比劳尔的这篇博客文章更有帮助。有了这些资源，我就能制作一个小程序，当它在系统托盘中被点击时，将运行与我们上面的脚本相同的命令。两个必需的文件是<code class="du ky kz la lb b">metadata.json</code>和<code class="du ky kz la lb b">applet.js</code>。这是我的第一个<code class="du ky kz la lb b">applet.js</code>的样子:</p><figure class="kj kk kl km fd kn"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="e5f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击小程序，调用<code class="du ky kz la lb b">on_applet_clicked()</code>函数。从那里我调用助手函数<code class="du ky kz la lb b">switchDevices()</code>和<code class="du ky kz la lb b">updateIcon()</code>。</p><p id="e77a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Cinnamon的基本Applet教程对我来说开始崩溃的地方是当我需要捕获一个系统命令的输出时，即<code class="du ky kz la lb b">pactl</code> <em class="kh">，</em>以获得当前的输出设备。Cinnamon的<code class="du ky kz la lb b">util</code> <em class="kh"> </em>库不提供这种东西，所以我只好看底层实现，直接使用<code class="du ky kz la lb b">GLib</code> <em class="kh"> </em>命令。</p><blockquote class="lp lq lr"><p id="a739" class="if ig kh ih b ii ij ik il im in io ip ls ir is it lt iv iw ix lu iz ja jb jc hb bi translated"><strong class="ih lv">注意</strong>:使用GLib的<code class="du ky kz la lb b">spawn_command_line_sync()</code>是少数几个在你试图安装你的小程序时会导致警告出现的功能之一，声称它可能会导致Cinnamon的问题。当我运行的一些命令比预期的时间长，导致整个桌面挂起时，我发现这是准确的。</p></blockquote><p id="1ded" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您还可以看到，我正在根据当前的输出设备设置图标。正如Cinnamon的教程中提到的，图标名引用了<code class="du ky kz la lb b">/usr/share/icons</code>中已安装的图标。我发现图标<code class="du ky kz la lb b">audio-headphones</code> <em class="kh"> </em>和<code class="du ky kz la lb b">multimedia-volume-control</code>分别是耳机和扬声器的很好的类比。注意，我使用的是符号图标<a class="ae jd" href="https://wiki.gnome.org/Design/OS/SymbolicIcons" rel="noopener ugc nofollow" target="_blank">因为系统托盘图标应该是简单单色的。</a></p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es lw"><img src="../Images/dfc5be91a0cf6708f0ca75271b9de636.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5jJPTAxEr0h0CCx1kVcV3w.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx">The Applet can be installed from the Applets menu, after which it will appear in the system tray.</figcaption></figure><p id="a376" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总而言之，上面的代码和Cinnamon的示例小程序没有太大区别。它是一个<code class="du ky kz la lb b">IconApplet</code>，点击时会执行一个动作。</p><p id="408f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们完了，对吧？</p><h1 id="70e2" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">小程序和信号</h1><p id="7f8f" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">此时，我对自己的第一个小程序非常满意。当点击时，它做了一件事，它很快，它有漂亮的图标，可以正确地更新。只有两个问题:</p><ol class=""><li id="0c09" class="lx ly hi ih b ii ij im in iq lz iu ma iy mb jc mc md me mf bi translated">小程序本身不是由键盘快捷键触发的。</li><li id="131a" class="lx ly hi ih b ii mg im mh iq mi iu mj iy mk jc mc md me mf bi translated">如果我把旧的脚本挂在键盘快捷键上，Applet图标就会不同步。</li></ol><p id="fb74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我不会告诉你我花了多少时间试图弄清楚如何让小程序响应全局键盘快捷键。简单地说，我尝试了很多不同的方法，当我最终想出一个解决方案时，我感到非常沮丧。<em class="kh">找到了！</em>瞬间发生在我淘内置声音小程序代码的时候。我看那里是因为音量图标会根据当前的音量设置而改变；它必须与系统、键盘或其他设备连接！我看到了这几行代码:</p><pre class="kj kk kl km fd ld lb le lf aw lg bi"><span id="107c" class="lh jf hi lb b fi li lj l lk ll">this._sound_settings = new Gio.Settings({ schema_id: CINNAMON_DESKTOP_SOUNDS });<br/>this._sound_settings.connect("changed::" + MAXIMUM_VOLUME_KEY, Lang.bind(this, this._on_sound_settings_change));</span></pre><p id="fffb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们来分析一下。可以说这些行中最重要的部分是<code class="du ky kz la lb b">connect</code>函数调用。<a class="ae jd" href="https://developer.gnome.org/gtkmm-tutorial/stable/sec-signals-overview.html.en" rel="noopener ugc nofollow" target="_blank"> Gnome和GTK使用<em class="kh">信号</em> </a> <em class="kh"> </em>来允许任何对象触发任何其他对象上的事件，而不需要发射器知道关于接收器的任何事情。我用Qt做过一些工作，所以这个概念对我来说很熟悉。您会注意到在Gnome和Cinnamon文档中，许多对象都有一个信号列表，就像它们有一个属性和函数列表一样。这就是我们要利用的优势。</p><p id="f919" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">声音小程序连接的是什么？<a class="ae jd" href="https://developer.gnome.org/GSettings/" rel="noopener ugc nofollow" target="_blank">g设置</a>。<code class="du ky kz la lb b">Gio.Settings</code>允许我将我的<em class="kh"> </em>小程序连接到GSettings键的 <code class="du ky kz la lb b"><a class="ae jd" href="https://lazka.github.io/pgi-docs/Gio-2.0/classes/Settings.html#Gio.Settings.signals.changed" rel="noopener ugc nofollow" target="_blank">changed</a></code> <a class="ae jd" href="https://lazka.github.io/pgi-docs/Gio-2.0/classes/Settings.html#Gio.Settings.signals.changed" rel="noopener ugc nofollow" target="_blank"> <em class="kh"> </em>信号</a><a class="ae jd" href="https://lazka.github.io/pgi-docs/Gio-2.0/classes/Settings.html#Gio.Settings.signals.changed" rel="noopener ugc nofollow" target="_blank">。这就是我需要的联系！</a></p><p id="bdf9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我的新计划:将小程序连接到我自己创建的GSettings键，并在设置改变时更新设备和图标。我们开始吧！</p><h1 id="f133" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">创建GSettings模式</h1><p id="c4fb" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">为了编译我的GSettings模式，我需要在<code class="du ky kz la lb b">/usr/share/glib-2.0/schemas</code>中创建一个<code class="du ky kz la lb b">.gschema.xml</code>文件。这是我的样子:</p><figure class="kj kk kl km fd kn"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="9f47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ky kz la lb b">schema</code>的<code class="du ky kz la lb b">id</code>和<code class="du ky kz la lb b">path</code>属性应该是唯一的。<code class="du ky kz la lb b">id</code>的约定是使用反向域名，后跟模式的唯一标识符。相同的内容可以用于<code class="du ky kz la lb b">path</code>，除了使用斜线作为分隔符。注意<code class="du ky kz la lb b">path</code> <em class="kh">必须</em>以结尾斜线结束。</p><p id="7d8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经指定了string类型的名为<code class="du ky kz la lb b">device</code>的设置(因此有了<code class="du ky kz la lb b">"s"</code>)。一旦准备就绪，我需要告诉GLib重新编译模式:</p><pre class="kj kk kl km fd ld lb le lf aw lg bi"><span id="6858" class="lh jf hi lb b fi li lj l lk ll">glib-compile-schemas /usr/share/glib-2.0/schemas</span></pre><p id="1edd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完成后，我可以使用我的小程序中的设置。</p><h1 id="c7b3" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">重构小程序以使用GSettings</h1><p id="532f" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">现在我已经设置了GSettings，我可以重构我的Applet了。我将它连接到一个指向我新创建的模式的<code class="du ky kz la lb b">Gio.Settings</code>对象。当单击Applet时，它不会显式运行命令，而是简单地翻转设置值，让事件流获取它。这将确保无论在哪里进行更改，它都将被Applet获取。</p><figure class="kj kk kl km fd kn"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="43ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在Applet做了和以前一样的事情，除了现在它通过从我们的GSettings对象接收信号来做这件事。那么，还剩下什么？</p><h1 id="7a9c" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">通过键盘快捷键激活小程序</h1><p id="1f0b" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">我剩下要做的就是使用键盘快捷键来触发设置更改。因为我已经将<em class="kh"> Ctrl+F11 </em>连接到一个bash脚本，所以我简单地修改了脚本，使用<code class="du ky kz la lb b">gsettings</code> CLI来进行修改。</p><figure class="kj kk kl km fd kn"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="1683" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就是这样！现在，我可以通过单击系统托盘中的图标或使用组合键来切换音频输出设备。在这两种情况下，都会更新图标并显示通知。任务完成！</p><p id="7870" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完整的代码<a class="ae jd" href="https://github.com/BenJuan26/sound-switch-applet/tree/master" rel="noopener ugc nofollow" target="_blank">可以在GitHub上找到。</a></p></div></div>    
</body>
</html>