# 技术资料

> 原文：<https://medium.com/swlh/technical-documentation-2096c96ecd5a>

## 来自“软件工程食谱”系列——如何用一个好的技术文档策略来改进你的工程实践

这篇文章来自“软件工程食谱”系列，旨在帮助成长中的工程团队保持有效性。今天我们将讨论技术文档，但首先让我们听听 Unikorn Inc .工程团队的一位最新成员的看法，uni Korn Inc .是一家虚构的初创公司，离现实不远。

![](img/e1a92e9c3a2f7d29e8cefca60a92feef.png)

Photo by [Fabian Grohs](https://unsplash.com/@grohsfabian?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

## **尤尼科恩公司的初级工程师**

我叫玛蒂尔达。在另一家工程实践不太好的初创公司工作了大约一年半之后，我在三个多月前加入了 Unikorn Inc .老板希望一切都尽快完成，而不太关心质量，然后我们不得不在每次发布时都与生产中的火灾作斗争。

我喜欢这里，我的队友很友好，知道他们的东西，我们正在开发一个很多人每天都在使用的产品。我不太喜欢的一件事是过程。我觉得有时候有太多的规则要遵循，这让我编码速度更慢。我尤其不明白为什么我们需要写这么多文件来解释事情是如何运作的。对我来说，直接编写和读取代码更容易、更快捷。

无论如何，我现在必须走了。我需要修复印花布组件中的一个 bug，这是我以前从未接触过的领域。在我能改变它之前，我需要一些时间来理解它是如何工作的。希望我不会在这个过程中打破任何东西。祝我好运！

![](img/61cc9ab6962309dd23d46c8b5606085d.png)

Photo by [Helloquence](https://unsplash.com/@helloquence?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

## **为什么我们要写技术文档**

对于软件工程团队的内部和外部来说，有各种各样的理由说明最新的技术文档是有用的和重要的。

在内部，这些文档提供了一种简单的方法来检查系统的架构，并确保新的特性符合它，它们帮助新的团队成员更快地熟悉代码库，并且它们在维护和错误修复活动中提供了有用的参考。

从外部来看，它们可以在不暴露完整代码库的情况下提供对系统的洞察，因此对于不同的审计活动(如融资或收购前的尽职调查)以及确定是否符合某些行业标准非常有用。

然而，为了使它们有效，技术文档需要保持最新和一致，确保正确记录系统的当前状态，并且在不同组件如何工作的不同文档之间没有矛盾。这需要时间来做好，最终会侵蚀工程师期望的其他活动。

一个好的文档策略应该平衡这些看似对立的需求，努力产生有用的、更新的文档，同时最小化工程团队的维护开销。

![](img/a9d6036960a9232bd8d7fe479fa38475.png)

Photo by [Jubal Kenneth Bernal](https://unsplash.com/@jubalkenneth?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

## **组织信息**

实现这种平衡的第一步是确定需要收集什么样的系统信息，以及记录这些信息的最佳方式。这在一定程度上取决于所编写软件的性质，但通常围绕以下主题:

*   软件的架构、组件以及它们之间的交互方式，以及第三方依赖性
*   每个特性是如何实现的，以及它如何适应系统
*   编码参考(例如，关于实用程序类、助手函数、API 等的文档。)

这不是一个详尽的列表，而是特定于代码库的子集。团队可能产生的其他文档还包括配置和发布管理、系统安全性、SLA 等主题的指南和规范。这在本文中不会讨论。

为了有效地记录你的代码库，可以编写不同类型的文档，几乎直接映射到上面的主题:架构文档、技术规范和代码文档。让我们从最常见的技术规范开始，仔细研究每种类型，看看如何使用它们。

![](img/cb8930238a23d3860f7aa85f98f2b72c.png)

Photo by [Florian Klauer](https://unsplash.com/@florianklauer?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

***技术规格***

这是工程团队中使用的最流行和最著名的技术文档类型。

技术规范文档(或*技术规范*)的目的是解释一个特性是如何实现的，在开发过程的不同阶段扮演不同的角色:

*   *实施前:它允许人们审查计划以确保它是合理的，以及它符合功能规范。*
*   ****实施期间*** :它为正在开发的特性的不同部分提供了一个契约，并为参与工作的工程师提供了一个参考点。*
*   ****实施*** 后:作为将来维护和修改特性的参考。*

*因此，它应该是一个活的文档，在必要时进行更新，最常见的是在特性开发过程中，例如，如果由于不可预见的情况而导致代码和规范之间存在任何偏差，以及在进一步修复 bug 时，所实现的更改足够重要。*

*技术规范通常定义系统中多个组件的变更，以满足相关的功能需求。因此，不同的技术规格，尤其是来自不同 sprints 的技术规格，最终会在单个组件应该如何工作的问题上相互矛盾。*

*有不同的方法来减轻这个问题，最简单和最省时的方法是保留所涉及的不同文档中的矛盾，而是依靠组件版本来确定在给定时间点系统的当前“真相”。*

*要做到这一点，我们需要技术规范来明确指出所有相关组件的版本，记住在需要时增加版本号。*

*然而，这种策略对于复杂的组件不是很有效，因为这些组件最终会以分散的方式在整个文档库中指定。对于这类组件，最好使用一个*架构文档*(见下文)在一个集中的位置定义它们的功能，并在需要更改时更新该文档。*

*通常，应该运用常识和判断力来确定在系统的不同部分哪种策略更有效。*

*顺便提一下，在技术规范中强制实施组件版本控制和显式引用还会鼓励团队考虑每个更改的影响，以及如何在必要时确保向后兼容性和相关迁移，例如在面向公众的 API 中或在修改数据库模式时。*

*![](img/da7f8a3ab2f81c9e4b70cec0f1e53012.png)*

*Photo by [Sergey Zolkin](https://unsplash.com/@szolkin?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)*

****建筑文件****

*这些文档定义了系统中的各种组件及其相互作用，以及如何修改它们的指导原则。它们的主要目的是在实现新特性时提供一个参考，说明现有的特性以及如何与之交互/集成。*

*在定义新功能时，应使用体系结构文档，以确保提议的实施符合系统的设计。如果设想了任何架构变化，它们应该相应地更新，例如当添加新的组件或者当计划主要的重构时。*

*这些文档通常被归类为技术规范，尽管在我看来，它们有很大的不同，在定义文档过程时应该分开处理。它们之间的主要区别如下:*

*   ****范围*** :技术规范是指特定特性的实现，而架构文档将系统及其组件视为一个整体单元*
*   ****所有权*** :尽管不同的技术规范通常由一个特性领导(即，一个领导相关特性实现的工程师)所拥有，但是架构文档应该由团队的技术权威(或者是一个软件架构师，或者是一个架构“委员会”)所拥有，以确保符合更广泛地应用于系统，甚至是整个公司的内部和外部规则和条例*
*   **:随着特性的变化，一些技术规范变得不那么相关，并且随着时间的推移使用得越来越少。另一方面，软件架构总是活跃的和不断发展的，它的文档需要保持最新。因此，不同的规则应该适用于软件架构文档(例如，在过时和定期审查方面)，并且过程应该清楚地定义它们。**

**![](img/38b85b1d2c8eb53d9bd655553bbf231e.png)**

**Photo by [Christopher Gower](https://unsplash.com/@cgower?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)**

*****代码文档*****

**第三种技术文档是直接在代码库中找到的，以注释和评论的形式，由编写或修改代码的工程师编写。**

**注释是一个强大的工具，可以自动生成定义代码详细操作的文档(例如 API 参考)。这些通常采取注释的形式，遵循注释系统中定义的某种风格(例如 Javascript 代码的 [JSDoc](https://jsdoc.app/) )。大多数现代 ide(例如 Visual Studio 代码、Android Studio 等。)可以利用这些注释系统来基于源代码生成内嵌帮助，并提供自动完成功能。**

**这非常有用，因为它允许工程师快速查找，比如说，助手函数的预期行为及其输入/输出，而不必通过手动打开函数定义来中断开发流程。**

**在代码审查期间，确保这些注释保持最新也是相当简单的，因为很容易将代码和注释变化关联起来，从而允许审查者在提交到代码库之前发现不一致之处。**

**简单的注释如果写得恰当，也是一个有用的文档工具，因为它们可以进一步帮助维护。最有效和最有用的注释是那些在代码中复杂或难以理解的部分，解释事情如何工作以及特定实现选择背后的原因。**

**注释代码最具挑战性的一个方面是确定正在编写的代码是否足够复杂，足以给出明确的解释。这是一个工程师可以通过时间建立的技能，并且可以通过团队不同成员的代码评审反馈来磨练。**

**注释和注解可以用来消除技术规范和架构文档的膨胀。例如，在这类文档中故意模糊 API 定义，然后使用注释和自动生成的引用来填补空白，这是一种有效的策略。**

**如果采用这种方法，建议在 sprint 结束时审查这种引用，作为发布验收标准的一部分，以确保所有需要的文档都存在。**

**![](img/645d79938c20090f5ab3a2c9d36651b9.png)**

**Photo by [Annie Spratt](https://unsplash.com/@anniespratt?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)**

## ****选择正确的格式****

**技术文件中使用的语言和格式也极大地影响了相关文件的有用性和可维护性。**

**总的来说，我的建议是保持写作的清晰和简洁，选择简单明了的语言和简短明确的句子(例如，避免双重否定)。**

**对于技术规格，一些资源建议使用项目符号或编号列表来提高清晰度。我从来没有发现这些特别实用，因为它们使规格更乏味阅读，在编号列表的情况下，如果在实现过程中需要更改，更难以编辑，但你的里程可能会有所不同。**

**对于架构文档，使用了序列图、类图等图表。，可能会减少文本的冗长，并使文档更直接，更容易被团队和外部审阅者使用，尽管这可能会在需要进一步修订时使其修改更慢。**

**在所有情况下，由于工程师是技术文档的主要消费者，因此很有必要确保在编写文档时将工程团队作为目标受众。如果您正在处理一个可能没有相同文化背景或相同主要语言的分布式团队，这一点尤其重要。**

**![](img/9ae0181665f2ffe1a23a10235a7e235d.png)**

**Photo by [Helloquence](https://unsplash.com/@helloquence?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)**

## ****测量文件有效性****

**因为编写和维护技术文档是有成本的，所以我们需要一个系统来检查这种投资的收益，通常期望体现在两个方面:速度和质量。**

**不幸的是，很难将好的文档与这两种方法直接联系起来。我们能做的最好的事情就是“通过代理人”和轶事证据来看待它们，例如:**

*   **从某个特定组件的专家那里获得一个修复 bug 的估计，看看一个非专家修复实际问题需要多长时间**
*   **看看团队的新成员需要多长时间来适应这个系统，尽管这可能很棘手，因为这个系统应该是不断发展的**
*   **从团队收集关于文档质量和覆盖范围的反馈(例如一对一)**

**此外，只有当信息易于查找和更新时，文档策略才能有效。有必要向团队提供一份“备忘单”,说明在哪里可以找到特定的信息，如何在没有特定功能/组件的信息时创建文档，以及相关的审查、批准和更新程序。基本上，确保您的文档化过程本身被很好地文档化，并且该文档是随时可用的，这对于使策略更加成功大有帮助。**

**![](img/c855852329ac1038268bbc2e9c353a61.png)**

**Photo by [Kaleidico](https://unsplash.com/@kaleidico?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)**

**总之，我们可以说技术文档是一种不可避免的罪恶，尤其是当团队和代码库在规模和复杂性上增长的时候。**

**保持流程的精简和信息的合理组织可以使团队更容易维护流程，从而产生更有用和更新的文档。**

**我希望这篇文章提供了一些有用的见解，帮助您为您的团队实现一个成功的文档策略。请随意分享您的经验，并在下面留下您的想法，以开始或继续对话。**

**同时，祝你一路顺风，继续做好事！**