<html>
<head>
<title>Basics of SQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SQL基础知识</h1>
<blockquote>原文：<a href="https://medium.com/swlh/basics-of-sql-7f1e72772e63?source=collection_archive---------29-----------------------#2019-07-17">https://medium.com/swlh/basics-of-sql-7f1e72772e63?source=collection_archive---------29-----------------------#2019-07-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a9c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">SQL代表结构化查询语言，用于与数据库通信。本文将介绍SQL的一些基础知识！</p><p id="1dad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.创建数据库</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="94fc" class="jm jn hi ji b fi jo jp l jq jr">CREATE DATABASE <em class="js">database_name</em></span><span id="caef" class="jm jn hi ji b fi jt jp l jq jr">CREATE DATABASE <em class="js">hero_database</em></span></pre><p id="94ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.创建表格</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="863b" class="jm jn hi ji b fi jo jp l jq jr">CREATE TABLE table_name (<br/>   id INTEGER PRIMARY KEY,<br/>   name TEXT,<br/>   age INTEGER<br/>);</span><span id="8ee9" class="jm jn hi ji b fi jt jp l jq jr">CREATE TABLE heroes(<br/>   id INTEGER PRIMARY KEY,<br/>   name TEXT,<br/>   age INTEGER,<br/>   ability TEXT<br/>);</span></pre><p id="4770" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.限制</p><p id="cebe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在创建(或稍后更改)表时使用，以限制放入其中的数据类型。有列级和表级约束。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="4d56" class="jm jn hi ji b fi jo jp l jq jr">CREATE TABLE table_name (<br/>   id INTEGER PRIMARY KEY,<br/>   name TEXT constraint,<br/>   age INTEGER constraint<br/>);</span><span id="c7eb" class="jm jn hi ji b fi jt jp l jq jr">CREATE TABLE heroes (<br/>   id INTEGER PRIMARY KEY,<br/>   name TEXT NOT NULL,<br/>   age INTEGER NOT NULL,<br/>   ability TEXT NOT NULL<br/>);</span></pre><p id="1ec9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一些常见的限制是:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="7028" class="jm jn hi ji b fi jo jp l jq jr">NOT NULL<br/># column cannot have a null value</span><span id="d2a0" class="jm jn hi ji b fi jt jp l jq jr">UNIQUE<br/># all values in column are different</span><span id="4171" class="jm jn hi ji b fi jt jp l jq jr">PRIMARY KEY<br/># combination of NOT NULL and UNIQUE</span><span id="b184" class="jm jn hi ji b fi jt jp l jq jr">FOREIGN KEY<br/># uniquely identifies row in another table</span><span id="d8de" class="jm jn hi ji b fi jt jp l jq jr">CHECK<br/># ensures all values in column satisfy a specific condition</span><span id="e919" class="jm jn hi ji b fi jt jp l jq jr">DEFAULT<br/># sets a default value for the column when no value is specified</span><span id="c69a" class="jm jn hi ji b fi jt jp l jq jr">INDEX<br/>#  Used to create and retrieve data from the database quickly</span></pre><p id="b8bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.添加列</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="cd78" class="jm jn hi ji b fi jo jp l jq jr">ALTER TABLE table_name ADD COLUMN column_name TEXT;</span><span id="1c76" class="jm jn hi ji b fi jt jp l jq jr">ALTER TABLE heroes ADD COLUMN gender TEXT;</span></pre><p id="4353" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.翻桌</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="210a" class="jm jn hi ji b fi jo jp l jq jr">DROP TABLE table_name</span><span id="f790" class="jm jn hi ji b fi jt jp l jq jr">DROP TABLE heroes</span></pre><p id="9951" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.挑选</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="34a0" class="jm jn hi ji b fi jo jp l jq jr">SELECT column_name FROM table_name</span><span id="a99a" class="jm jn hi ji b fi jt jp l jq jr">SELECT ability FROM heroes</span></pre><p id="ec51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.明显的</p><p id="090b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">仅选择唯一的值。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="4944" class="jm jn hi ji b fi jo jp l jq jr">SELECT DISTINCT column_name FROM table_name</span><span id="edbc" class="jm jn hi ji b fi jt jp l jq jr">SELECT DISTINCT ability FROM heroes</span></pre><p id="5a58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">8.在哪里</p><p id="248f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基于指定的条件选择数据。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="345a" class="jm jn hi ji b fi jo jp l jq jr">SELECT column_name FROM table_name WHERE condition</span><span id="cb8b" class="jm jn hi ji b fi jt jp l jq jr">SELECT name FROM heroes WHERE name = "Batman"</span></pre><p id="4974" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">也可以使用AND和OR来指定更多的条件。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="e891" class="jm jn hi ji b fi jo jp l jq jr">SELECT name FROM heroes WHERE name = "Batman" OR "Superman"</span></pre><p id="6634" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">9.数数</p><p id="283e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">给出满足指定条件的记录数量。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="aca1" class="jm jn hi ji b fi jo jp l jq jr">SELECT COUNT(column_name) FROM table_name WHERE condition</span><span id="c5d0" class="jm jn hi ji b fi jt jp l jq jr">SELECT COUNT(ability) FROM heroes WHERE ability = "ESP"</span></pre><p id="cab9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">10.以...排序</p><p id="8ace" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">按列值的升序(默认)或降序对结果进行排序。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="1d10" class="jm jn hi ji b fi jo jp l jq jr">SELECT "column_name" FROM "table_name" WHERE "condition" ORDER BY column_name ASC|DESC</span><span id="d6d5" class="jm jn hi ji b fi jt jp l jq jr">SELECT name FROM heroes WHERE age &gt; 16 ORDER BY age DESC</span></pre><p id="ecd0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">11.分组依据</p><p id="9b8a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">按指定的列对结果进行分组。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="1ae8" class="jm jn hi ji b fi jo jp l jq jr">SELECT COUNT(column_name) FROM table_name GROUP BY column_name</span><span id="91a1" class="jm jn hi ji b fi jt jp l jq jr">SELECT COUNT(ability) FROM heroes GROUP BY ability</span></pre><p id="5a63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">12.插入</p><p id="49a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将数据插入表格。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="0cc7" class="jm jn hi ji b fi jo jp l jq jr">INSERT INTO table_name (name, age, gender, ability) VALUES ("name_value", age_value, "gender_value")</span><span id="a942" class="jm jn hi ji b fi jt jp l jq jr">INSERT INTO heroes (name, age, gender, ability) VALUES ("Spiderman", 18, "male", "spider things")</span></pre><p id="09d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">13.更新</p><p id="f44e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更新表中数据的信息。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="6a7a" class="jm jn hi ji b fi jo jp l jq jr">UPDATE table_name SET name = "new_name" WHERE name = "old_name";</span><span id="ded4" class="jm jn hi ji b fi jt jp l jq jr">UPDATE heroes SET name = "spoderman" WHERE name = "Spiderman";</span></pre><p id="cdf4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">14.删除</p><p id="8c21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从数据库中删除一行。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="86df" class="jm jn hi ji b fi jo jp l jq jr">DELETE FROM table_name WHERE condition</span><span id="0513" class="jm jn hi ji b fi jt jp l jq jr">DELETE FROM heroes WHERE name="spoderman"</span></pre><p id="8316" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">15.选择进入</p><p id="d718" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将数据从一个表复制到另一个表中。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="826e" class="jm jn hi ji b fi jo jp l jq jr">SELECT column_name(s) INTO new_table FROM old_table WHERE condition</span><span id="abe2" class="jm jn hi ji b fi jt jp l jq jr">SELECT name INTO people FROM heroes WHERE name = "Batman"</span></pre><p id="6f41" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">16.存储过程</p><p id="2a53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为当你有运行的公共代码时，你可以存储它并调用它。</p><p id="edc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要储存它:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="3492" class="jm jn hi ji b fi jo jp l jq jr">CREATE PROCEDURE <em class="js">procedure_name</em><br/>   AS<br/><em class="js">sql_statement</em><br/>   GO;</span><span id="d47b" class="jm jn hi ji b fi jt jp l jq jr">CREATE PROCEDURE <em class="js">select_psychics</em><br/>   AS<br/><em class="js">SELECT * FROM heroes WHERE ability = "ESP"</em><br/>   GO;</span></pre><p id="c1fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">称之为:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="d63a" class="jm jn hi ji b fi jo jp l jq jr">EXEC <em class="js">procedure_name</em></span></pre><p id="ec4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">17.连接</p><p id="43bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有四种类型的连接。</p><ul class=""><li id="29b4" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc jz ka kb kc bi translated">内部联接-当两个表中至少有一个匹配项时，返回所有行</li><li id="360c" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">左连接-返回左表中的所有行，以及右表中的匹配行</li><li id="b5a5" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">右连接-返回右表中的所有行，以及左表中的匹配行</li><li id="0f6b" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">完全连接-当其中一个表中存在匹配项时，返回所有行</li></ul><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="3da6" class="jm jn hi ji b fi jo jp l jq jr">SELECT column_name FROM table_name_1 INNER JOIN table_name_2 ON table_name_1.column_name = table_name_2.column.name</span></pre><p id="2b7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通常一个表有一列包含另一个表的外键，就像如果有一个图书表和一个作者表，图书表可能有一列author _ ids。然后将该列连接到另一个表的id列上。</p><p id="67e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以通过执行以下操作来查询连接的表:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="2a2e" class="jm jn hi ji b fi jo jp l jq jr">SELECT heroes.name, people.name <br/>FROM<br/>heroes<br/>INNER JOIN <br/>people <br/>ON <br/>heroes.id = people.heroes_id</span></pre><p id="f3a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些是关于如何创建表、从表中查询信息以及更改表中内容的基础知识。无论是自己做还是用别人的，祝你在使用表格时好运！</p><ul class=""><li id="8cc5" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc jz ka kb kc bi translated">*编辑</li></ul><p id="a7b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有一个在面试中难倒了我，显然是所谓的自我加入。</p><p id="506a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设你有一张这样的桌子:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="75fd" class="jm jn hi ji b fi jo jp l jq jr">EMPLOYEE</span><span id="10eb" class="jm jn hi ji b fi jt jp l jq jr">emp_id | emp_name | emp_supervisor_id<br/>00001    Ed              00003<br/>00002    Edd             00003<br/>00003    Eddy            00004<br/>00004    Fred               -<br/>00005    Fredd           00004<br/>00006    Freddy          00004</span></pre><p id="5ce4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里弗雷德是大老板。他的下属是弗雷德、弗雷迪和艾迪。Eddy也是Edd和Ed的老板。你要返回一张列有雇员名单及其雇主姓名的表格。但是对于每一行，您看不到员工顾问的姓名，只能看到他们顾问的id号。要获得顾问的名称，您需要使用自联接。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="38b8" class="jm jn hi ji b fi jo jp l jq jr">SELECT a.emp_id as “Emp_ID”, a.emp_name AS “Employee Name”<br/>SELECT b.emp_id as “Sup_ID”, b.emp_name AS “Supervisor Name”<br/>FROM employee a, employee b<br/>WHERE a.emp_supervisor_id = b.emp_id</span></pre><p id="7957" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们在emp_supervisor_id和emp_i重叠的地方连接一个表。然后，在第一行中，您将获得所有雇员，并获得两列，雇员id(别名为Emp_ID)和雇员姓名(别名为Employee Name)。然后对于第二个表，我们得到雇员ID(这次别名为Sup_ID)和雇员姓名(别名为主管姓名)。最终结果将是:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="4a34" class="jm jn hi ji b fi jo jp l jq jr">Emp_ID | Employee Name | Sup_ID | Supervisor Name<br/>00001    Ed              00003         Eddy<br/>00002    Edd             00003         Eddy<br/>00003    Eddy            00004         Fred<br/>00004    Fred               -<br/>00005    Fredd           00004         Fred<br/>00006    Freddy          00004         Fred</span></pre></div></div>    
</body>
</html>