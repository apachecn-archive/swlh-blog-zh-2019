<html>
<head>
<title>Understand basic Webpack from scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从头开始理解基本的Webpack</h1>
<blockquote>原文：<a href="https://medium.com/swlh/understand-basic-webpack-from-scratch-6a1976565ae0#2019-05-31">https://medium.com/swlh/understand-basic-webpack-from-scratch-6a1976565ae0#2019-05-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/cae075c0e4c9850d98dfe37b698f07f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*bFwEsviFxStAYwOBW_36hA.png"/></div></figure><h1 id="1959" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">从头开始理解Webpack的基础知识</h1><p id="f3bd" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">我第一次听到有人谈论Webpack，甚至是bundler，对我来说就像听到一种外星语言，一种抽象的东西，它正在做一些神奇的事情。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es ki"><img src="../Images/e64b7571a95faa3a6fb44041eecd9166.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/1*E8RnI0PgoDgmTIiTSxc3og.gif"/></div></figure><p id="5a71" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">但由于我喜欢挑战，我决定探索Webpack，看看我们是否能成为朋友，或者，就像最好的爱情故事一样，忽略对方。</p><h2 id="cd2b" class="ks in hi bd io kt ku kv is kw kx ky iw jv kz la ja jz lb lc je kd ld le ji lf bi translated">我是如何处理的</h2><p id="1d76" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">对我来说，最有效的方法是从头开始创建一个简单的javascript repo，然后尝试将Webpack应用到它上面，当然，在需要的时候Google并阅读Webpack文档，因为它们是水(或者一个好的prosecco！)</p><p id="263e" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">我们现在将从头开始创建一个简单的回购，并使用Webpack玩一次，以了解其基本原理。</p></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><h2 id="3d57" class="ks in hi bd io kt ku kv is kw kx ky iw jv kz la ja jz lb lc je kd ld le ji lf bi translated">我在这个项目中使用的</h2><p id="8cf4" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">[node . js](【https://nodejs.org/en/】T2)，</p><p id="9638" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">【纱线】(【https://yarnpkg.com/lang/en/】T4)</p></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><h2 id="ba50" class="ks in hi bd io kt ku kv is kw kx ky iw jv kz la ja jz lb lc je kd ld le ji lf bi translated">开始吧！</h2><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/87e6c7cc99b1a5df3d49fcfe8d80300f.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*6mlw_7grQAEFPCkwQM2LsQ.gif"/></div></figure><h1 id="d21f" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">文件夹和包. json</h1><ul class=""><li id="8b3e" class="lp lq hi jm b jn jo jr js jv lr jz ls kd lt kh lu lv lw lx bi translated">创建一个名为<strong class="jm ly"> basic-webpack-bundle </strong>的文件夹</li><li id="1f01" class="lp lq hi jm b jn lz jr ma jv mb jz mc kd md kh lu lv lw lx bi translated">在其中创建package.json，运行命令</li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="b3fc" class="ks in hi mf b fi mj mk l ml mm"><br/>npm init -y<br/></span></pre><ul class=""><li id="6540" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">安装Webpack</li></ul><p id="1319" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">对于本教程，我使用了Webpack 4和Webpack-cli 3。<br/> <strong class="jm ly">参考这些包的版本来跟随本教程:</strong> <a class="ae ln" href="https://github.com/Vanals/medium-basic-webpack-bundle/blob/master/package.json" rel="noopener ugc nofollow" target="_blank"> package.json项目</a>。</p><p id="1a86" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">即使我们在这里没有使用Webpack 5，这仍然是理解Webpack如何工作的一个很好的教程！<br/>最后，Webpack4仍然被充分使用！</p><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="f906" class="ks in hi mf b fi mj mk l ml mm">yarn add webpack@4.32.2<br/>yarn add webpack-cli@3.3.2</span></pre><h2 id="fdbd" class="ks in hi bd io kt ku kv is kw kx ky iw jv kz la ja jz lb lc je kd ld le ji lf bi translated">创建Webpack配置文件</h2><p id="fcd4" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">[Webpack doc](<a class="ae ln" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank">https://webpack.js.org/</a>)。</p><blockquote class="mq mr ms"><p id="456a" class="jk jl mt jm b jn kn jp jq jr ko jt ju mu kp jx jy mv kq kb kc mw kr kf kg kh hb bi translated">开箱即用，webpack不会要求您使用配置文件。然而，它将假设您的项目的入口点是<code class="du mx my mz mf b"><em class="hi">src/index.js</em></code>，并将结果输出到<code class="du mx my mz mf b"><em class="hi">dist/main.js</em></code>中，为生产进行缩小和优化。</p></blockquote><p id="0c43" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">一旦安装了Webpack基本包<strong class="jm ly">在根文件夹中创建</strong><br/><strong class="jm ly">web pack . config . js</strong>，顾名思义，这就是我们亲爱的bundler的配置。</p><p id="658a" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">创建后，添加以下代码</p><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="a542" class="ks in hi mf b fi mj mk l ml mm">const path = require(‘path’);</span><span id="931a" class="ks in hi mf b fi na mk l ml mm">module.exports = {<br/>  entry: ‘./src/index.js’,<br/>  output: {<br/>    path: path.resolve(__dirname, ‘dist’),<br/>    filename: ‘bundle.js’<br/>  }<br/>};</span></pre><p id="380a" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">好吧！现在让我们深呼吸，一起看看这里发生了什么。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es nb"><img src="../Images/d6d96d464dc2fdc5ef37f2e7491dee21.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*OW4xNSnrRXo46_SFxS0jJA.gif"/></div></figure><p id="2218" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">在第一行，我们是<em class="mt">要求</em><strong class="jm ly"><em class="mt"/></strong><em class="mt">路径</em>其中自带NodeJs。</p><p id="e5ca" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">路径模块提供了处理文件和目录路径的工具。 <br/>例如，用于解析项目根目录的绝对路径(通常是webpack.config.js所在的位置)</p><p id="2056" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">然后，我们将导出我们的模块，该模块目前只包含两个密钥。<br/><strong class="jm ly">条目</strong> <strong class="jm ly">指向</strong>，这是Webpack将运行以创建我们的包的文件。<br/><strong class="jm ly">输出</strong>包含设置我们的最终包文件的名称和放置位置。</p><p id="a0eb" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">现在我们知道了这些基本行在做什么，让我们创建我们需要的东西，这是我们的入口点文件index.js。</p><ul class=""><li id="ebbc" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">手动或简单地使用鼠标创建一个源文件夹和index.js</li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="a5a6" class="ks in hi mf b fi mj mk l ml mm"><br/>mkdir src<br/>touch src/index.js<br/></span></pre><ul class=""><li id="88f5" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">然后添加一些简单的代码，让它执行一项任务</li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="4a45" class="ks in hi mf b fi mj mk l ml mm"><br/>window.onload = function() {<br/> console.log(‘Thanks Marco Vanali!’)<br/>};<br/></span></pre><h1 id="2562" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">创建并发布我们的第一个捆绑包</h1><p id="4f1d" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">酷！现在让我们看看如何通过Webpack捆绑简单的index.js文件。</p><p id="5719" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">现在，让我们通过运行以下命令，针对我们已经创建的配置文件运行Webpack</p><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="6262" class="ks in hi mf b fi mj mk l ml mm"> yarn webpack --config ./webpack.config.js</span></pre><p id="9f01" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">结果，我们将看到一个名为<strong class="jm ly"> dist </strong>的新文件夹，其中包含我们的bundle.js。</p><p id="3570" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">bundle.js将是一个包含所有压缩javascript的文件。</p><h2 id="d76c" class="ks in hi bd io kt ku kv is kw kx ky iw jv kz la ja jz lb lc je kd ld le ji lf bi translated"><strong class="ak"> PS: </strong> <br/>为了简单起见，因为我们是好人，所以让我们直接在package.json中创建一个脚本；这样，我们将只运行*yarn bundle*而不必记住这一行可爱的代码。</h2><ul class=""><li id="3c5c" class="lp lq hi jm b jn jo jr js jv lr jz ls kd lt kh lu lv lw lx bi translated">在package.json中，用以下内容替换脚本对象</li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="d645" class="ks in hi mf b fi mj mk l ml mm"><br/>“scripts”: {<br/>  “bundle”: “yarn webpack --config ./webpack.config.js”<br/>},<br/></span></pre><p id="8172" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">标记`— config '允许我们指定Webpack配置文件的名称。在这种情况下，我们甚至不需要它，因为webpack.config.js是默认使用的。<strong class="jm ly"> <em class="mt"> —如果您想为不同的脚本使用不同的配置文件，config非常有用。</em> </strong></p><h1 id="88f3" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">发动</h1><p id="c6b5" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">时间快到了，我们现在要启动我们的回购，并查看index.js文件的结果。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es ki"><img src="../Images/90c0ec74f7cf95b59de3fb87c8e27661.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/1*sUE6s4x0nI9Gb_MrDBsb8w.gif"/></div></figure><p id="07a5" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">到目前为止，我们已经有了一个包含我们的逻辑的javascript文件，但是在一个基本的网站项目中，除了javascript，我们还需要什么呢？</p><p id="b333" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">一个HTML文件来托管它！</p><ul class=""><li id="2ae2" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">在<strong class="jm ly">根文件夹</strong>中创建一个Html文件，并在那里需要我们的bundle.js</li></ul><p id="5696" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">默认情况下，Webpack在根文件夹中寻找index.html文件，当然，它可能不在我们想要的位置，但是我们将在下面看到如何确定它的位置。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/ea2a91dedc27caab021d794a2572a07b.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*1UigZg_fSk8kcztPzrjVcA.gif"/></div></figure><ul class=""><li id="13a4" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">在index.html文件中导入bundle.js文件</li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="0285" class="ks in hi mf b fi mj mk l ml mm">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en" dir="ltr"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;title&gt;&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;h1&gt; Well done learning more about Webpack &lt;/h1&gt;<br/>    &lt;script type="text/javascript" src="./dist/bundle.js"&gt;&lt;/script&gt;&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="1522" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">此时，我们想要运行我们的应用程序。<br/>我们可以简单地打开我们的index.html，但我们可能会在一些浏览器中出现<a class="ae ln" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" rel="noopener ugc nofollow" target="_blank"> CORS </a>错误，所以这不是理想的方法，但我们真正想要的是使用Webpack的功能，通过<a class="ae ln" href="https://webpack.js.org/configuration/dev-server/" rel="noopener ugc nofollow" target="_blank"><strong class="jm ly">web pack-dev-server</strong></a><strong class="jm ly">定制我们的服务器。</strong></p><p id="226f" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">让我们安装它</p><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="c504" class="ks in hi mf b fi mj mk l ml mm"><br/>yarn add webpack-dev-server -D</span></pre><p id="77d2" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">现在，在我们的<strong class="jm ly"> package.json </strong>中，我们可以添加第二个脚本。一个用于构建我们的包，另一个用于在浏览器中启动我们的应用程序。</p><p id="61a8" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">像这样:</p><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="6cbd" class="ks in hi mf b fi mj mk l ml mm"><br/>“scripts”: {<br/> “start”: “yarn webpack-dev-server --config ./webpack.config.js”,<br/> “build”: “yarn webpack --config ./webpack.config.js”<br/>},<br/></span></pre><p id="26f6" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">因此，运行<strong class="jm ly"> yarn start </strong>我们将使用<a class="ae ln" href="https://webpack.js.org/configuration/dev-server/" rel="noopener ugc nofollow" target="_blank"><strong class="jm ly">web pack-dev-server</strong></a>运行我们的应用程序。</p><p id="d34a" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">但是我们仍然需要为它编写配置。猜猜在哪里？</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/3afc15b2de052781e3099b5ab9cbe14f.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*d98B4QS8Rt8V7-TKLf1hRw.gif"/></div></figure><h1 id="7741" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">配置开发服务器并移动index.html</h1><p id="9889" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">如果我们想要配置设置，比如运行应用程序的端口、从哪里获取内容、执行定制中间件等，该怎么办？</p><p id="d1e9" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">正如我们所说的<strong class="jm ly"> webpack-dev-server </strong>将使用放在根目录中的index.html文件<em class="mt">服务</em>我们的bundle.js。为了对其进行配置，我们必须转到webpack.config.js，并在<strong class="jm ly">模块</strong>对象中添加<strong class="jm ly"> devServer </strong>键和以下基本属性:</p><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="8c41" class="ks in hi mf b fi mj mk l ml mm"><br/>const path = require(‘path’);</span><span id="d7a3" class="ks in hi mf b fi na mk l ml mm">module.exports = {<br/>  entry: ‘./src/app.js’,<br/>  output: {<br/>    path: path.resolve(__dirname, ‘dist’),<br/>    filename: ‘bundle.js’<br/>  },<br/><strong class="mf ly">  devServer: {<br/>    contentBase: path.join(process.cwd(), ‘dist’),<br/>    compress: true,<br/>    port: 8050<br/>  }</strong><br/>};<br/></span></pre><p id="890d" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated"><strong class="jm ly"> port = </strong>指定运行服务器的端口<br/> <strong class="jm ly"> contentBase </strong> =指定webpack dev服务器将在其中找到所有必要文件(index.html和捆绑包)的路径。js)。</p><p id="1918" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">现在，我们正在使用<strong class="jm ly"> webpack-dev-server </strong>并获得对我们应用程序的更多控制，我们将遇到一个小问题</p><p id="f907" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">如果我们现在进行回购:</p><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="d7ce" class="ks in hi mf b fi mj mk l ml mm"> yarn start</span></pre><p id="21a9" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">不会再有用了。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es nc"><img src="../Images/c4f3b845b6d9f63e32e3b010c5358c5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*ngfP3M_Cr_IDtA3njMcG1g.gif"/></div></figure><h2 id="60b4" class="ks in hi bd io kt ku kv is kw kx ky iw jv kz la ja jz lb lc je kd ld le ji lf bi translated">为什么？</h2><p id="bc38" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">这是因为，默认情况下，<strong class="jm ly"> webpack-dev-server </strong>会在dist文件夹中寻找我们的index.html，而不是其他地方。</p><p id="eee7" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated"><strong class="jm ly"> <em class="mt">为了解决这个问题，</em> </strong>一旦完成了对我们的HTML文件<strong class="jm ly"> <em class="mt"> </em> </strong>的操作，我们就可以创建它的副本，并手动将其粘贴到dist文件夹中。<br/>对吗？<br/>明显没有！</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es nd"><img src="../Images/6e58f0ad531d50e4fcbc13b492e973d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/1*40Wgc7D-Gk1l5uT99z4Ckg.gif"/></div></figure><p id="a599" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">这意味着我们每次修改时都必须手动复制index.html。是的，但是我可以把它留在区里，在那里工作！那就更惨了！您不应该在您的dist文件夹中工作。)</p><p id="0da5" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">会有什么选择？<strong class="jm ly">那么，从根目录开始，在dist文件夹中包含index HTML的构建是什么样的呢？</strong></p><p id="7539" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">这样，一切都将是自动的，人类将不再是必要的。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es ki"><img src="../Images/80f72580326cc83f3a4aca4baad28a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/1*2kUUlpdkaFNuBcT2sEholw.gif"/></div></figure><p id="44c5" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">好吧，也许这是有点太多，但给了一个想法！</p><h1 id="aea4" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">Html Webpack插件</h1><blockquote class="mq mr ms"><p id="e290" class="jk jl mt jm b jn kn jp jq jr ko jt ju mu kp jx jy mv kq kb kc mw kr kf kg kh hb bi translated">Webpack主要通过插件和加载器工作，所以如果你知道如何使用它们，你就处于一个非常有利的位置:</p><p id="30c1" class="jk jl mt jm b jn kn jp jq jr ko jt ju mu kp jx jy mv kq kb kc mw kr kf kg kh hb bi translated"><a class="ae ln" href="https://stackoverflow.com/questions/37452402/webpack-loaders-vs-plugins-whats-the-difference" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/37452402/web pack-loaders-vs-plugins-what-the-difference</a></p></blockquote><p id="7ef8" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">为了实现我们的目标，我们可以使用一个名为<a class="ae ln" href="https://webpack.js.org/plugins/html-webpack-plugin/" rel="noopener ugc nofollow" target="_blank">的插件HtmlWebpackPlugin </a></p><ul class=""><li id="3dfd" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">安装插件</li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="21ab" class="ks in hi mf b fi mj mk l ml mm"><br/><br/>yarn add html-webpack-plugin -D<br/></span></pre><ul class=""><li id="3b55" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">在我们的webpack.config.js中添加插件，现在看起来应该是这样的</li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="19e8" class="ks in hi mf b fi mj mk l ml mm"><br/>const path = require(‘path’);<br/>var HtmlWebpackPlugin = require(‘html-webpack-plugin’);</span><span id="9df9" class="ks in hi mf b fi na mk l ml mm">module.exports = {<br/>  entry: ‘./src/app.js’,<br/>  output: {<br/>    path: path.resolve(__dirname, ‘dist’),<br/>    filename: ‘bundle.js’<br/>  },<br/>  devServer: {<br/>    contentBase: path.join(process.cwd(), ‘dist’),<br/>    compress: true,<br/>    port: 8050<br/>  },<br/>  plugins: [new HtmlWebpackPlugin({<br/>    filename: ‘index.html’,<br/>    template: ‘./index.html’<br/>  })]<br/>};<br/></span></pre><p id="9864" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">正如你所看到的，我们在模块中创建了一个名为<strong class="jm ly">插件的新键。</strong></p><p id="d8aa" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">它的值是一个<strong class="jm ly">数组，</strong>其中每一项都是一个插件。如您所见，我们正在初始化<strong class="jm ly"> HtmlWebpackPlugin </strong>，然后将我们的规范作为参数传递:</p><ul class=""><li id="83a5" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">要创建的文件的名称，<strong class="jm ly">文件名</strong>，</li><li id="3844" class="lp lq hi jm b jn lz jr ma jv mb jz mc kd md kh lu lv lw lx bi translated">而HTML文件要用作<strong class="jm ly">的一个模板</strong>，才能复制。</li></ul><p id="9318" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">现在<strong class="jm ly">将index.html文件</strong>从dist文件夹移动到根文件夹<br/>根路径就是我们在模板键中写的目标路径。</p><p id="5c14" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">在尝试之前，在HTML文件中添加一些文本更改，并删除我们用来导入bundle.js的脚本。</p><p id="c412" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">为什么我们要移除它？因为我们的HTML插件也会解决这个问题！将自动添加在webpack.config.js文件的入口点键中指定的文件的导入。</p><h2 id="10ff" class="ks in hi bd io kt ku kv is kw kx ky iw jv kz la ja jz lb lc je kd ld le ji lf bi translated">让我们现在就开始建造吧！</h2><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="c8b2" class="ks in hi mf b fi mj mk l ml mm">yarn build</span></pre><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/f3f644bb8c23a505b03d22239947079a.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*UQwODaVTQg56NaZDaZAZSQ.gif"/></div></figure><p id="6b59" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">哇哦。看那里！我们的分布文件夹现在有我们的index.html文件！<br/>而且看起来跟我们在根部的一模一样！</p><p id="7a41" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">现在</p><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="1656" class="ks in hi mf b fi mj mk l ml mm">yarn start</span></pre><p id="bf83" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">并转到<a class="ae ln" href="http://localhost:8050/" rel="noopener ugc nofollow" target="_blank">http://localhost:8050/</a><br/>Wuala，我们的bundle，放在dist文件夹里就服了。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/dc08888684ccc72e85e7d78042e4afb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*7E_qvIrvW8pc_bujk4A4mA.gif"/></div></figure><p id="ef54" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">我们可以将许多改进和配置添加到我们的Webpack配置文件和repo中。但我希望这个小练习能帮助你减少对它的恐惧并理解它。</p><p id="9a0d" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">结局并不坏，不是吗？！我其实挺喜欢的！</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/ccb38ae8ac7a3729ad518ac92587f3ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*jrXTZvBqG5fGCvOqV2UQCA.gif"/></div></figure><h1 id="6f45" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">奖金，有人说SCSS和装载机？</h1><p id="d259" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">让我们快速做最后一件事，以加强我们的理解。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="nf ng di nh bf ni"><div class="er es ne"><img src="../Images/788bbf1966f636b2bba3de160f6bcee4.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/1*tZfg9EZ3NogMm1Hz7uwOiQ.gif"/></div></div></figure><ul class=""><li id="bce8" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">在src文件夹中，创建另一个名为style的文件夹，并在其中创建一个名为main.scss的文件</li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="1b74" class="ks in hi mf b fi mj mk l ml mm"><br/>mkdir src/styles<br/>touch src/styles/main.scss<br/></span></pre><ul class=""><li id="a39d" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">在scss文件中添加以下代码:</li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="d2f6" class="ks in hi mf b fi mj mk l ml mm"><br/>body {<br/> background: tomato;<br/> margin: 0;<br/> padding: 0;<br/>}<br/></span></pre><ul class=""><li id="2712" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">将SCSS文件导入到src文件夹中的index.js文件中</li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="71f6" class="ks in hi mf b fi mj mk l ml mm"><br/><br/>import ‘./styles/main.scss’<br/></span></pre><p id="1fcc" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">酷！现在我们有了导入的样式，所以一切都会好的，对吗？</p><p id="e95f" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">如果你现在尝试构建应用程序，Webpack会告诉你到底需要什么。</p><blockquote class="nj"><p id="d38d" class="nk nl hi hj nm nn no np nq nr ns kh dx translated">您可能需要一个合适的加载程序来处理这种文件类型。</p></blockquote><figure class="nt nu nv nw nx ij er es paragraph-image"><div class="er es ki"><img src="../Images/7743bf3742eb8f8d3f7b6aeea59fe26c.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/1*f_3wnKOM7fL0_v7ISnq5Zg.gif"/></div></figure><p id="1e55" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">你需要一台装载机。这是因为默认情况下【Webpack只能捆绑js文件，在这种情况下，我们需要先将scss转换成css，然后再将css转换成js！</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es lo"><img src="../Images/b9da6589e774927d1af26132a4f9668b.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*HNlDPG4AlGhv9oMBhJbcpw.gif"/></div><figcaption class="ny nz et er es oa ob bd b be z dx">SCSS becoming JS</figcaption></figure><h2 id="cecc" class="ks in hi bd io kt ku kv is kw kx ky iw jv kz la ja jz lb lc je kd ld le ji lf bi translated">sass-loader</h2><p id="2829" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">我们将使用的装载机是<a class="ae ln" href="https://github.com/webpack-contrib/sass-loader" rel="noopener ugc nofollow" target="_blank"> sass-loader </a>。</p><ul class=""><li id="35e9" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">正如它的文档所说，让我们安装下面的包</li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="f807" class="ks in hi mf b fi mj mk l ml mm">yarn add style-loader css-loader sass-loader node-sass -D</span></pre><ul class=""><li id="114d" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">在配置文件的<strong class="jm ly">模块中添加加载程序。导出对象</strong>，添加一个名为<strong class="jm ly">模块的新键，并进行如下设置。</strong></li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="30fc" class="ks in hi mf b fi mj mk l ml mm">module: {<br/>  rules: [{<br/>   test: /<strong class="mf ly">\.</strong>scss$/,<br/>   use: [<br/>  "style-loader", // creates style nodes from JS strings<br/>  "css-loader", // translates CSS into CommonJS<br/>  "sass-loader" // compiles Sass to CSS, using Node Sass by default<br/>   ]<br/>  }]<br/>}</span></pre><blockquote class="mq mr ms"><p id="6b1a" class="jk jl mt jm b jn kn jp jq jr ko jt ju mu kp jx jy mv kq kb kc mw kr kf kg kh hb bi translated">配置文件中的模块键是我们通常添加加载器的地方。</p></blockquote><p id="7b3d" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">酷！大部分已经完成了。现在再跑一次</p><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="9d26" class="ks in hi mf b fi mj mk l ml mm">yarn build</span></pre><p id="3c66" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">现在，如果你打开bundle.js，查找单词<strong class="jm ly"> tomato </strong>(我们在scss文件中选择的背景颜色)，我们会在那里找到它！</p><p id="f838" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">这是个好兆头，不是吗？</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es ne"><img src="../Images/557178b5609cc4b4501ece958beb80f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/1*b-nFJ4yk8Sv3DqtiwGeaag.gif"/></div></figure><ul class=""><li id="eecc" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">现在快跑</li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="5903" class="ks in hi mf b fi mj mk l ml mm">yarn start</span></pre><ul class=""><li id="1ab3" class="lp lq hi jm b jn kn jr ko jv mn jz mo kd mp kh lu lv lw lx bi translated">去…</li></ul><pre class="kj kk kl km fd me mf mg mh aw mi bi"><span id="11f3" class="ks in hi mf b fi mj mk l ml mm"><a class="ae ln" href="http://localhost:8050/" rel="noopener ugc nofollow" target="_blank">http://localhost:8050/</a></span></pre><p id="5989" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">享受番茄的背景！我们做到了！干得好！</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es nc"><img src="../Images/7d1f6abf8e1f0e5c44a9a1f80707e003.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*5d88KjXw4Dk7BYE0FWs0OA.gif"/></div></figure><p id="c1c9" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">我再次希望这有助于理解Webpack的基本工作原理！如果您有任何问题，请随时<strong class="jm ly">发表评论</strong>和<strong class="jm ly">关注我</strong>了解更多内容。</p><p id="3bf7" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">在互联网上，有很多资源可以让你更深入地理解Webpack，看看你还能用它做些什么惊人的事情！</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es oc"><img src="../Images/0ee63c033736c63ade0c674f4c86d285.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*x6liXNw0Ac76LL4ID_ZR7Q.jpeg"/></div></figure><p id="1804" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">你可以在我的GitHub:<br/><a class="ae ln" href="https://github.com/Vanals/medium-basic-webpack-bundle" rel="noopener ugc nofollow" target="_blank">https://github.com/Vanals/medium-basic-webpack-bundle</a>中找到<strong class="jm ly">这个项目的回购</strong></p><h1 id="4be6" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">个人:</h1><h2 id="f615" class="ks in hi bd io kt ku kv is kw kx ky iw jv kz la ja jz lb lc je kd ld le ji lf bi translated">跟着我</h2><p id="8b9b" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><a class="ae ln" href="https://www.linkedin.com/in/marco-vanali/" rel="noopener ugc nofollow" target="_blank">领英</a></p><p id="cfd3" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated"><a class="ae ln" href="https://twitter.com/vanali_marco%20Linkedin:%20https://www.linkedin.com/in/marco-vanali/" rel="noopener ugc nofollow" target="_blank">推特</a></p><p id="0f75" class="pw-post-body-paragraph jk jl hi jm b jn kn jp jq jr ko jt ju jv kp jx jy jz kq kb kc kd kr kf kg kh hb bi translated">你想知道更多关于我的事吗？<strong class="jm ly">阅读我是如何成为一名开发人员的</strong><a class="ae ln" rel="noopener" href="/@marcovanali/a-journey-from-nursing-to-web-developing-34aa44a153ae">https://medium . com/@ marcovanali/a-journey-from-nursing-to-web-developing-34 aa 44 a 153 AE</a></p></div></div>    
</body>
</html>