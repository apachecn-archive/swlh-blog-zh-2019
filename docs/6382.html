<html>
<head>
<title>Create a Simple Ruby Gem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">制作一个简单的红宝石</h1>
<blockquote>原文：<a href="https://medium.com/swlh/create-a-simple-ruby-gem-1b470c4145bd?source=collection_archive---------17-----------------------#2019-06-20">https://medium.com/swlh/create-a-simple-ruby-gem-1b470c4145bd?source=collection_archive---------17-----------------------#2019-06-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/fd6f45dc3a411743ecce8129d03e4bfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*fR0iCs26EeXMIm20E7gsGg.png"/></div><figcaption class="im in et er es io ip bd b be z dx">It’s a ruby</figcaption></figure><h2 id="7c16" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">制作基本文件夹</strong></h2><p id="9a18" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">每个gem至少需要一个根文件夹和一个lib文件夹。在终端中，输入以下内容:</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="fb4e" class="iq ir hi ko b fi ks kt l ku kv">$ mkdir my_gem<br/>$ cd my_gem<br/>$ mkdir lib</span></pre><p id="1c12" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated">或者复制粘贴:<code class="du lb lc ld ko b">mkdir my_gem &amp;&amp; cd my_gem &amp;&amp; mkdir lib</code></p><h2 id="9c17" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">创建第一个宝石代码</strong></h2><p id="213d" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">使文件名与gem的名称相同。这个文件是唯一负责建立你的宝石。你仍然可以把你的代码分成不同的文件，但是要确保你的主gem文件可以通过添加<code class="du lb lc ld ko b">require '&lt;path to file&gt;'</code>来访问它。</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="d14a" class="iq ir hi ko b fi ks kt l ku kv">$ cd lib<br/>$ &gt; my_gem.rb</span></pre><p id="ff76" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated">或者复制粘贴:<code class="du lb lc ld ko b">cd lib &amp;&amp; &gt; my_gem.rb</code></p><p id="f362" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated"><code class="du lb lc ld ko b">&gt;</code>只是<code class="du lb lc ld ko b">touch</code>的一个快捷方式</p><h2 id="ca8e" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">增加一些功能</strong></h2><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="c269" class="iq ir hi ko b fi ks kt l ku kv"># ./lib/my_gem.rb</span><span id="525c" class="iq ir hi ko b fi le kt l ku kv">module MyGem<br/>  class Here<br/>    def self.here?<br/>      puts "Ferris was here"<br/>    end<br/>  end<br/>end</span></pre><p id="3b24" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated">您不必将它放在模块中:</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="283f" class="iq ir hi ko b fi ks kt l ku kv"># ./lib/my_gem.rb</span><span id="6565" class="iq ir hi ko b fi le kt l ku kv">class MyGem<br/>  def self.here?<br/>    puts "Ferris was here"<br/>  end<br/>end</span></pre><h2 id="05a9" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">在根目录下创建gemspec文件</strong></h2><p id="48c6" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated"><code class="du lb lc ld ko b">$ &gt; my_gem.gemspec</code></p><p id="a098" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated">gemspec文件包含有关宝石的信息。</p><p id="5415" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated">有5个必填字段:</p><ul class=""><li id="5cf7" class="lf lg hi jq b jr kw jv kx jb lh jf li jj lj ki lk ll lm ln bi translated"><strong class="jq lo">名称</strong> —您的宝石名称</li><li id="655f" class="lf lg hi jq b jr lp jv lq jb lr jf ls jj lt ki lk ll lm ln bi translated"><strong class="jq lo">版本</strong> —您的宝石的当前版本</li><li id="c1f4" class="lf lg hi jq b jr lp jv lq jb lr jf ls jj lt ki lk ll lm ln bi translated"><strong class="jq lo">总结</strong>——总结你的宝石做了什么</li><li id="0329" class="lf lg hi jq b jr lp jv lq jb lr jf ls jj lt ki lk ll lm ln bi translated"><strong class="jq lo">作者</strong>——谁写的宝石</li><li id="02f8" class="lf lg hi jq b jr lp jv lq jb lr jf ls jj lt ki lk ll lm ln bi translated"><strong class="jq lo">文件</strong>——使你的gem发挥作用所需的文件(没有列出文件，你的gem仍然可以构建，但不能工作)</li></ul><p id="a5fc" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated">如果不存在，有两个字段将填充警告:</p><ul class=""><li id="2418" class="lf lg hi jq b jr kw jv kx jb lh jf li jj lj ki lk ll lm ln bi translated"><strong class="jq lo">主页</strong> —你的宝石网站</li><li id="daf3" class="lf lg hi jq b jr lp jv lq jb lr jf ls jj lt ki lk ll lm ln bi translated">许可——让用户知道他们被允许使用你的gem的内容和方式</li></ul><p id="14cf" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated">几个推荐字段:</p><ul class=""><li id="1a90" class="lf lg hi jq b jr kw jv kx jb lh jf li jj lj ki lk ll lm ln bi translated"><strong class="jq lo">描述</strong> —对你的宝石的描述</li><li id="784f" class="lf lg hi jq b jr lp jv lq jb lr jf ls jj lt ki lk ll lm ln bi translated"><strong class="jq lo">电子邮件</strong> —您的联系电子邮件</li></ul><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="df2f" class="iq ir hi ko b fi ks kt l ku kv"># ./my_gem.gemspec</span><span id="c265" class="iq ir hi ko b fi le kt l ku kv">Gem::Specification.new do |s| <br/>### REQUIRED ###<br/>  s.name        = 'my_gem'<br/>  s.version     = '0.0.0'<br/>  s.summary     = "This is My_Gem"<br/>  s.authors     = ["Ferris Boran"]<br/>  s.files       = ["lib/my_gem.rb"] <br/>### WARNING ###<br/>  s.homepage    = '<a class="ae lu" href="http://ferryrules.com'" rel="noopener ugc nofollow" target="_blank">https://mygem.com'</a><br/>  s.license     = 'OML' <br/>### RECOMMENDED ###<br/>  s.description = "A simple test gem" # nice to have <br/>  s.email       = 'ferris@email.com # nice to have<br/>end</span></pre><h2 id="cec6" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">构建并安装</strong></h2><p id="3bc5" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated"><code class="du lb lc ld ko b">$ gem build my_gem</code></p><p id="4d2e" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated">如果一切顺利，您应该会在终端中看到类似这样的内容</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="1982" class="iq ir hi ko b fi ks kt l ku kv">$ Successfully built RubyGem<br/>  Name: my_gem<br/>  Version: 0.0.0<br/>  File: my_gem-0.0.0.gem</span></pre><p id="c5f6" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated"><code class="du lb lc ld ko b">$ gem install my_gem-0.0.0.gem</code></p><p id="4d12" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated">和以前一样，你应该得到这样的东西</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="6c5e" class="iq ir hi ko b fi ks kt l ku kv">$ Successfully installed my_gem-0.0.0<br/>  Parsing documentation for my_gem-0.0.0<br/>  Done installing documentation for test after 0 seconds<br/>  1 gem installed</span></pre><h2 id="1b04" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">需要你的宝石并使用它</strong></h2><p id="0645" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">将它添加到您的gem文件中</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="74d5" class="iq ir hi ko b fi ks kt l ku kv"># &lt;your app&gt;/Gemfile</span><span id="ed7f" class="iq ir hi ko b fi le kt l ku kv">gem 'my_gem'</span></pre><p id="9fda" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated">在任何需要的地方都需要它</p><pre class="kj kk kl km fd kn ko kp kq aw kr bi"><span id="7792" class="iq ir hi ko b fi ks kt l ku kv">### If using a module ###</span><span id="f802" class="iq ir hi ko b fi le kt l ku kv">require 'my_gem'</span><span id="7a6b" class="iq ir hi ko b fi le kt l ku kv">class WhoWasHere &lt; MyGem::Here<br/>  self.here?<br/>end</span><span id="f0f6" class="iq ir hi ko b fi le kt l ku kv">### If using a class ###</span><span id="a58f" class="iq ir hi ko b fi le kt l ku kv">require 'my_gem'</span><span id="806c" class="iq ir hi ko b fi le kt l ku kv">MyGem.here?</span></pre><p id="59c8" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated">现在，当你运行你的应用程序时，你的gem会按照你的设计去做！</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es lv"><img src="../Images/73e980a8721535ef17211e096b88bc30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M5VBWovuCaszN2XMM2IJHg.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx">Module Example</figcaption></figure><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="er es ma"><img src="../Images/43e7a4bbd62378966381b3aa0dabf2bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZsNaEhB8QjOGEK0uEIKq-A.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx">Class Example</figcaption></figure><p id="853e" class="pw-post-body-paragraph jo jp hi jq b jr kw jt ju jv kx jx jy jb ky ka kb jf kz kd ke jj la kg kh ki hb bi translated"><strong class="jq lo">来源</strong></p><ul class=""><li id="a89b" class="lf lg hi jq b jr kw jv kx jb lh jf li jj lj ki lk ll lm ln bi translated">ruby gems—<a class="ae lu" href="https://guides.rubygems.org/make-your-own-gem/" rel="noopener ugc nofollow" target="_blank">https://guides.rubygems.org/</a></li><li id="01ae" class="lf lg hi jq b jr lp jv lq jb lr jf ls jj lt ki lk ll lm ln bi translated">红宝石宝石许可证—<a class="ae lu" href="https://spdx.org/licenses/" rel="noopener ugc nofollow" target="_blank">https://spdx.org/licenses/</a></li></ul></div></div>    
</body>
</html>