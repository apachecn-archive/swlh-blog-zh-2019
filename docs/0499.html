<html>
<head>
<title>How to Create a Simple OAuth Angular Component with Oauth.io</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Oauth.io创建一个简单的OAuth角度组件</h1>
<blockquote>原文：<a href="https://medium.com/swlh/how-to-create-a-simple-oauth-angular-component-with-oauth-io-ca92e77590fd?source=collection_archive---------5-----------------------#2019-01-25">https://medium.com/swlh/how-to-create-a-simple-oauth-angular-component-with-oauth-io-ca92e77590fd?source=collection_archive---------5-----------------------#2019-01-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5f5408927c196df05f99592983e3b4ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hqbjDPmFXcm-uXjR6GgXfw.png"/></div></div></figure><h1 id="984b" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">特色课程</h1><h2 id="bddc" class="jo ir hi bd is jp jq jr iw js jt ju ja jv jw jx je jy jz ka ji kb kc kd jm ke bi translated"><a class="ae kf" href="https://click.linksynergy.com/link?id=qt/jYwyHv8A&amp;offerid=507388.756150&amp;type=2&amp;murl=https%3A%2F%2Fwww.udemy.com%2Fthe-complete-guide-to-angular-2%2F" rel="noopener ugc nofollow" target="_blank">掌握Angular (Angular 2+，包括Angular 7)并使用Angular的继任者构建出色的反应式web应用。js </a></h2><h2 id="e631" class="jo ir hi bd is jp jq jr iw js jt ju ja jv jw jx je jy jz ka ji kb kc kd jm ke bi translated"><a class="ae kf" href="https://click.linksynergy.com/link?id=qt/jYwyHv8A&amp;offerid=507388.1987226&amp;type=2&amp;murl=https%3A%2F%2Fwww.udemy.com%2Fangular-js-complete-course%2F" rel="noopener ugc nofollow" target="_blank">完整的角度课程:从初级到高级</a></h2><p id="42e5" class="pw-post-body-paragraph kg kh hi ki b kj kk kl km kn ko kp kq jv kr ks kt jy ku kv kw kb kx ky kz la hb bi translated">谁不想专注于创建产品而不是处理代码中的OAuth逻辑呢？将代码中的OAuth占用减少到一个请求！</p><p id="9096" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">在这篇文章中，我们将在Angular中用<a class="ae kf" href="https://oauth.io?utm_source=medium&amp;utm_medium=post&amp;utm_content=krissanawat&amp;utm_campaign=oauthio-angularjs" rel="noopener ugc nofollow" target="_blank"> OAuth.io </a>创建一个简单的OAuth组件。更容易使用5线</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lg"><img src="../Images/2aa3fc2659f8177927e42c9bfefcb1ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R3h8Mx4qcMOA7M79Nf9j7g.png"/></div></div></figure><h2 id="e059" class="jo ir hi bd is jp jq jr iw js jt ju ja jv jw jx je jy jz ka ji kb kc kd jm ke bi translated">设置OAuth.io用户</h2><p id="0960" class="pw-post-body-paragraph kg kh hi ki b kj kk kl km kn ko kp kq jv kr ks kt jy ku kv kw kb kx ky kz la hb bi translated">在Oauth.io注册，免费！</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/904a397989f5ecdd237df38b3bf0ca3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rTy_GtdeT73XwMbve0yfwg.png"/></div></div></figure><p id="452f" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">登录后，您将进入如下所示的仪表板。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/f5b4b5097f3fa36a862bbffcc7d1f9f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gnKQjLS0NnZ-3hIEaL8X1A.png"/></div></div></figure><p id="6f11" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">您可以尝试任何集成，但首先要设置集成的API。</p><h1 id="aef4" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">添加API</h1><p id="567d" class="pw-post-body-paragraph kg kh hi ki b kj kk kl km kn ko kp kq jv kr ks kt jy ku kv kw kb kx ky kz la hb bi translated">点击添加API。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/041fa0ce3bcbe2646bb74c74c47fd086.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JilVHXNjaxNppV5W8ZSEVA.png"/></div></div></figure><p id="31ad" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">选择脸书作为应用程序的提供商。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div class="er es ln"><img src="../Images/224cd38e1d1ec25f5d577636a4e83a34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*9VX-OCgYs1x1ODen8VukFw.png"/></div></figure><p id="346c" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">现在，您需要client_id和client_secret。因此，创建一个脸书应用程序来获取这些凭证。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/32e246986bde4024a5b731b98e74a62e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qq2UeIwpy0hdKyfs-bVacg.png"/></div></div></figure><p id="02dc" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">转到<a class="ae kf" href="https://developers.facebook.com" rel="noopener ugc nofollow" target="_blank">https://developers.facebook.com</a>创建一个应用并插入oauth.io作为应用的域。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/ff0cb9be90425af710873f2200eac214.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ar4YNmOvpaJ8jegUxgHDVg.png"/></div></div></figure><p id="1ae5" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">将回拨URI添加为oauth.io/auth</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/3314221458aa599d75cdfc248f16f76d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qt_lmdY4h9dXDf6r963Bsw.png"/></div></div></figure><p id="ff6a" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">将id和秘密放入OAuth.io的表单中。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/43d2a89d3578e8f491b9c66f86e7f540.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DPGZKxFh3eGG7BlakFFk9A.png"/></div></div></figure><p id="f4bf" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">点击保存，你也可以添加更多的API。让我们先利用脸书API。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/ce2fa1acad25f988df5a0ce1f3320273.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wAfILm_KlKIXdJpYIOymow.png"/></div></div></figure><p id="1407" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">Github的第二个服务是</p><p id="38cd" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">转到<a class="ae kf" href="https://github.com/settings/developers" rel="noopener ugc nofollow" target="_blank">开发者设置</a></p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/073a7be1566e9d76c84a9c66ab11e524.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ah0JPt1AagAaYNfrYBiRuw.png"/></div></div></figure><p id="1128" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">创建新应用程序</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/0562b558b582bd23b8d6a79f7305cfea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qHHjSFngsbwG8akJ5gBA1A.png"/></div></div></figure><p id="3cc1" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">填写应用信息</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/cb8d4e8f169c4c82c7497dc488311798.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AsWSpMCmCSxh63ITB67jHQ.png"/></div></div></figure><p id="67f8" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">复制应用程序id和应用程序密码</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/e59451d9aaca6a3dd32c566c192edccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TJgKHTdopOddyA00lS0Gyw.png"/></div></div></figure><p id="4db2" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">我们得到两种服务</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/ce88d56f24eeb91300723d5a9fbb3223.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ChSRAQ0fVsF4pBgAh87HVw.png"/></div></div></figure><h1 id="e931" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">创建角度分量</h1><p id="2791" class="pw-post-body-paragraph kg kh hi ki b kj kk kl km kn ko kp kq jv kr ks kt jy ku kv kw kb kx ky kz la hb bi translated">创建角度组件以使用Oauth.io SDK。oauth.io的文档位于<a class="ae kf" href="http://docs.oauth.io/" rel="noopener ugc nofollow" target="_blank"> http://docs.oauth.io </a></p><p id="e5c9" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">为了快速演示，我将使用Codesandbox准备一个小组件。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/5b37ffe4131ad3847a344bb51c8a235a.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*3eLL_rJjo-LGBkGYWKb9Jw.png"/></div></figure><ol class=""><li id="a906" class="ly lz hi ki b kj lb kn lc jv ma jy mb kb mc la md me mf mg bi translated">打开<code class="du mh mi mj mk b">oauth.component.css</code>并导入必要的CSS</li></ol><pre class="lh li lj lk fd ml mk mm mn aw mo bi"><span id="784c" class="jo ir hi mk b fi mp mq l mr ms">@import "https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.0/css/bootstrap.css";<br/>@import "https://cdnjs.cloudflare.com/ajax/libs/bootstrap-social/5.1.1/bootstrap-social.min.css";<br/>@import "https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css";</span></pre><p id="b4dc" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">2.打开<code class="du mh mi mj mk b">oauth.component.ts</code>并导入必要的类</p><pre class="lh li lj lk fd ml mk mm mn aw mo bi"><span id="ac54" class="jo ir hi mk b fi mp mq l mr ms">import { Component, Input } from "@angular/core";</span><span id="46af" class="jo ir hi mk b fi mt mq l mr ms">import { OAuth } from "oauthio-web";</span></pre><p id="b88c" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">3.用名称选择器构造组件并包含一个模板文件</p><pre class="lh li lj lk fd ml mk mm mn aw mo bi"><span id="0f35" class="jo ir hi mk b fi mp mq l mr ms">@Component({<br/>  selector: "oauth",<br/>  templateUrl: "./oauth.component.html",<br/>  styleUrls: ["./oauth.component.css"]</span><span id="02ca" class="jo ir hi mk b fi mt mq l mr ms">})</span></pre><p id="9f70" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">4.创建类和属性来存储与属性一起传递的服务名</p><pre class="lh li lj lk fd ml mk mm mn aw mo bi"><span id="3694" class="jo ir hi mk b fi mp mq l mr ms"><strong class="mk mu">export</strong> <strong class="mk mu">class</strong> OauthComponent {<br/>  @Input() provider: string;<br/>}</span></pre><p id="647e" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">5.用<code class="du mh mi mj mk b">initialize</code>初始化OAuth-io SDK，并从OAuth.io仪表板添加API-key</p><pre class="lh li lj lk fd ml mk mm mn aw mo bi"><span id="ab95" class="jo ir hi mk b fi mp mq l mr ms"><strong class="mk mu">constructor</strong>() {<br/>    OAuth.initialize("Fcdn9FAU7dhM0TzQ7umztVA28NM");<br/>  }</span></pre><p id="54b4" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">6.创建OAuth处理程序方法</p><pre class="lh li lj lk fd ml mk mm mn aw mo bi"><span id="0a25" class="jo ir hi mk b fi mp mq l mr ms">Auth() {<br/>    OAuth.popup(<strong class="mk mu">this</strong>.provider)<br/>      .done(res =&gt; {<br/>        console.log(res.access_token);<br/>      })<br/>      .fail(err =&gt; {<br/>        <em class="mv">//todo when the OAuth flow failed</em><br/>      });<br/>  }</span></pre><p id="31e6" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">7.添加一个登录按钮和类，事件句柄到<code class="du mh mi mj mk b">oauth.component.html</code>并连接属性和类</p><pre class="lh li lj lk fd ml mk mm mn aw mo bi"><span id="bc7d" class="jo ir hi mk b fi mp mq l mr ms">&lt;a (click)="Auth();" class="btn btn-block btn-social btn-{{provider}}"&gt;<br/>	&lt;span class="fa fa-{{provider}}"&gt;&lt;/span&gt; Sign in with {{ provider }}<br/>&lt;/a&gt;</span></pre><p id="ac8b" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">8.在<code class="du mh mi mj mk b">app.module.ts</code>中导入并注册该组件</p><pre class="lh li lj lk fd ml mk mm mn aw mo bi"><span id="2559" class="jo ir hi mk b fi mp mq l mr ms">import { BrowserModule } from "@angular/platform-browser";<br/>import { NgModule } from "@angular/core";<br/><br/>import { AppComponent } from "./app.component";<br/><strong class="mk mu">import { OauthComponent } from "./oauth/oauth.component";</strong><br/>@NgModule({<br/>  declarations: [AppComponent, <strong class="mk mu">OauthComponent</strong>],<br/>  imports: [BrowserModule],<br/>  providers: [],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule {}</span></pre><p id="093e" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">9.最后，通过放置在<code class="du mh mi mj mk b">app.component.html</code>来激活组件</p><pre class="lh li lj lk fd ml mk mm mn aw mo bi"><span id="630b" class="jo ir hi mk b fi mp mq l mr ms">&lt;div class="container"&gt;<br/>	&lt;div class="row"&gt;<br/>	&lt;h1&gt;Social login with OAuth.io&lt;/h1&gt;<br/>	&lt;div class="row"&gt;<br/>		&lt;div class="col-sm-4 col-md-offset-4"&gt;<br/>			&lt;oauth provider='facebook'&gt;&lt;/oauth&gt;<br/>				&lt;hr&gt;<br/>			&lt;oauth provider='github'&gt;&lt;/oauth&gt;<br/>		&lt;/div&gt;<br/>	&lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="c7e7" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">在Codesandbox上查看实时结果</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="mw mx l"/></div></figure><h1 id="c5ef" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">包扎</h1><p id="4e39" class="pw-post-body-paragraph kg kh hi ki b kj kk kl km kn ko kp kq jv kr ks kt jy ku kv kw kb kx ky kz la hb bi translated">本教程到此为止！</p><p id="9b9c" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">我们创建了一个有角度的OAuth组件，使用<a class="ae kf" href="https://oauth.io?utm_source=medium&amp;utm_medium=post&amp;utm_content=krissanawat&amp;utm_campaign=oauthio-angularjs" rel="noopener ugc nofollow" target="_blank"> OAuth.io </a>来呈现一个简单的脸书和Github登录选项</p><p id="af58" class="pw-post-body-paragraph kg kh hi ki b kj lb kl km kn lc kp kq jv ld ks kt jy le kv kw kb lf ky kz la hb bi translated">希望你玩得开心，随时评论和询问任何事情。鼓掌表示支持！</p><figure class="lh li lj lk fd ij er es paragraph-image"><a href="https://medium.com/swlh"><div class="er es my"><img src="../Images/308a8d84fb9b2fab43d66c117fcc4bb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YqDjlKFwScoQYQ62DWEdig.png"/></div></a></figure><h2 id="c148" class="jo ir hi bd is jp jq jr iw js jt ju ja jv jw jx je jy jz ka ji kb kc kd jm ke bi translated">这篇文章发表在<a class="ae kf" href="https://medium.com/swlh" rel="noopener"> The Startup </a>上，这是Medium最大的创业刊物，拥有+415，678名读者。</h2><h2 id="869c" class="jo ir hi bd is jp jq jr iw js jt ju ja jv jw jx je jy jz ka ji kb kc kd jm ke bi translated">在这里订阅接收<a class="ae kf" href="http://growthsupply.com/the-startup-newsletter/" rel="noopener ugc nofollow" target="_blank">我们的头条新闻</a>。</h2><figure class="lh li lj lk fd ij er es paragraph-image"><a href="https://medium.com/swlh"><div class="er es my"><img src="../Images/b0164736ea17a63403e660de5dedf91a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ouK9XR4xuNWtCes-TIUNAw.png"/></div></a></figure></div></div>    
</body>
</html>