<html>
<head>
<title>Setting up a React + TypeScript + SASS + Webpack and Babel project in 6 Steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用6个步骤建立一个React + TypeScript + SASS + Webpack和Babel项目</h1>
<blockquote>原文：<a href="https://medium.com/swlh/setting-up-a-react-typescript-sass-webpack-and-babel-7-project-in-6-steps-b4d172d1d0d6?source=collection_archive---------2-----------------------#2019-07-17">https://medium.com/swlh/setting-up-a-react-typescript-sass-webpack-and-babel-7-project-in-6-steps-b4d172d1d0d6?source=collection_archive---------2-----------------------#2019-07-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2cb7b9a21f6adffaf44d7270a84725b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yAKVTxytT10am43bb0vH2A.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">San Francisco — Image by <a class="ae iu" href="https://pixabay.com/users/chenhengyu-5700844/" rel="noopener ugc nofollow" target="_blank">chenhengyu</a></figcaption></figure><p id="6004" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本教程中，我想告诉你如何建立一个防弹，IE 11安全，前端项目使用TypeScript，React和Sass。</p><p id="ba2b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">注意:在本教程中，我将使用<a class="ae iu" href="https://yarnpkg.com/lang/en/" rel="noopener ugc nofollow" target="_blank">纱线</a>而不是npm。如果你从未听说过，你应该去看看！😁</p><h2 id="038c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">初始化空白项目</h2><p id="729a" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">让我们从创建一个空文件夹并初始化一个空白节点项目开始。</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="60c0" class="jt ju hi ky b fi lc ld l le lf">mkdir awesome-app<br/>cd awesome-app<br/>yarn init</span></pre><p id="8e23" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这将产生以下文件结构:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="ccbe" class="jt ju hi ky b fi lc ld l le lf">.<br/>└── package.json</span></pre><h2 id="85ec" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">安装依赖项</h2><p id="64c9" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">在我们开始编写一些sweet react代码之前，我们首先要设置我们的蒸腾环境。在这种情况下与网络包和巴别塔。</p><p id="b634" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是为什么我需要转换我的代码呢？</p><p id="3b2d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">嗯，有三个原因，为什么我们需要移植我们的代码:</p><ol class=""><li id="612b" class="lh li hi ix b iy iz jc jd jg lj jk lk jo ll js lm ln lo lp bi translated">浏览器不支持TypeScript(目前)，所以我们需要将它转换成JavaScript。</li><li id="884f" class="lh li hi ix b iy lq jc lr jg ls jk lt jo lu js lm ln lo lp bi translated">并不是所有的浏览器都支持现代JavaScript(尤其是IE)。我们需要把它转换成一个“旧版本”，这样普通的浏览器就能正确地解释它。</li><li id="4a70" class="lh li hi ix b iy lq jc lr jg ls jk lt jo lu js lm ln lo lp bi translated">我们需要将SASS转换成CSS，因为(你可能已经猜到了)几乎没有浏览器支持SASS。</li></ol><p id="1112" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们安装我们需要的所有依赖项:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="abd5" class="jt ju hi ky b fi lc ld l le lf">yarn add core-js react react-dom regenerator-runtime<br/>yarn add -D  @babel/core @babel/preset-env @babel/preset-react @babel/preset-typescript @types/react @types/react-dom babel-loader css-loader node-sass sass-loader source-map-loader style-loader webpack webpack-cli typescript ts-loader</span></pre><p id="3bd1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">事件虽然看起来有很多依赖项，但我们只有4个将内置到我们的应用程序中，其余的都是开发依赖项，只在我们的开发环境中需要。</p><p id="2b6c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您感兴趣，这里有每个包的简短描述:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="41a3" class="jt ju hi ky b fi lc ld l le lf">react  // React framework<br/>react-dom  // React's DOM framework<br/>core-js  // Polyfills for a lot of ECMAScript methods<br/>regenerator-runtime // Polyfill for runtime</span><span id="edb9" class="jt ju hi ky b fi lv ld l le lf">/* Webpack */<br/>webpack<br/>webpack-cli</span><span id="5f35" class="jt ju hi ky b fi lv ld l le lf">/* Babel core and presets to transpile TypeScript */<br/>@babel/core <br/>@babel/preset-env <br/>@babel/preset-react <br/>@babel/preset-typescript</span><span id="ffcb" class="jt ju hi ky b fi lv ld l le lf"><em class="lg">/* </em>Type Definitions<em class="lg"> for React */<br/></em>@types/react <br/>@types/react-dom babel-loader</span><span id="a5bf" class="jt ju hi ky b fi lv ld l le lf"><em class="lg">/* For transpiling SASS */<br/></em>style-loader <br/>css-loader<br/>node-sass<br/>sass-loader</span><span id="5e57" class="jt ju hi ky b fi lv ld l le lf">/* For better debugging */<br/>source-map-loader<br/>ts-loader<br/>typescript</span></pre><h2 id="91a7" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">设置Webpack</h2><p id="218f" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">现在我们已经安装了所有的依赖项，是时候创建我们的<code class="du lw lx ly ky b">webpack.config.js</code>文件了。</p><p id="7627" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Webpack将管理我们的<a class="ae iu" href="https://webpack.js.org/loaders/" rel="noopener ugc nofollow" target="_blank">加载器</a>。加载器是软件组件(npm包),它将改变/传输/提取或分析我们的代码。</p><p id="be12" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的<code class="du lw lx ly ky b">webpack.config.js</code>会是这样的:</p><figure class="kt ku kv kw fd ij"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="7ebf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我认为大多数选项都是不言自明的，但我想快速谈谈其中的四个。</p><p id="f205" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lw lx ly ky b">watch</code>声明如果Webpack注意到文件改变，它会自动重新编译。<em class="lg"> cmd + s </em>。</p><p id="f4eb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lw lx ly ky b">devtool: "source-map"</code>将添加源映射，这将使您的开发者生活轻松许多，因为它们为您的浏览器devtools提供了TypeScript源，因此类名、接口等不会丢失。<strong class="ix mb"> <em class="lg">重要提示:对于生产版本，删除此选项和第17行。</em>T15】</strong></p><p id="5c4b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lw lx ly ky b">["style-loader", "css-loader", "sass"-loader"]</code>是装载机链条。这基本上意味着右加载器的输出(<em class="lg"> return </em>)将被下一个加载器用作输入，依此类推(<em class="lg">从右到左！</em>)。这个加载器链将从SASS文件中提取SASS，将其转换为CSS，最后转换为JavaScript。</p><p id="7c12" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">根据我们将在下一步配置的<code class="du lw lx ly ky b">.babelrc</code>文件，<code class="du lw lx ly ky b">babel-loader</code>将把类型脚本转换成JavaScript(在我们的例子中是ES2015)。</p><p id="ef36" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">之所以需要Transpiling，是因为浏览器目前无法理解TypeScript，此外，我们还需要制作“旧的”JavaScript来获得良好的浏览器覆盖。</p><h2 id="c0b1" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">建立巴别塔</h2><p id="0fff" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">建立巴别塔是小菜一碟！Babel将帮助我们把我们的类型脚本转换成正确的JavaScript标准。这是我们的<code class="du lw lx ly ky b">.babelrc</code>配置文件:</p><figure class="kt ku kv kw fd ij"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="da44" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们基本上告诉Babel使用它的React和Typescript预设，并转换到IE 11和Chrome 58的最低版本。</p><h2 id="e128" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">设置类型脚本</h2><p id="d5f5" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">等等，我们很快就要在TypeScript中写出我们的第一行了，但是在这之前，我们需要创建一个名为<code class="du lw lx ly ky b">tsconfig.json</code>的文件。这个文件将保存(您可能已经猜到了)一些TypeScript配置:</p><figure class="kt ku kv kw fd ij"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="f161" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我也认为大多数选择是明确的，但我想简短地解释其中的两个:</p><p id="d2e1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lw lx ly ky b">noImplicitAny</code>是一个标志，它将强制您声明类型化的函数参数。即使它不是必需的，我也鼓励你使用它，因为否则你会因为不知道你的函数参数是哪种类型而感到困惑。你可以在这里阅读更多关于这个标志<a class="ae iu" href="https://basarat.gitbooks.io/typescript/docs/options/noImplicitAny.html" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><p id="6270" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du lw lx ly ky b">jsx</code>声明我们想要在JavaScript中编写<a class="ae iu" href="https://developer.mozilla.org/en-US/docs/Web/Web_Components" rel="noopener ugc nofollow" target="_blank"> web组件</a>语法，或者在我们的例子中是TypeScript文件。</p><p id="0fc6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的项目结构现在看起来像这样:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="d01b" class="jt ju hi ky b fi lc ld l le lf">.<br/>├── .babelrc<br/>├── node_modules<br/>├── package.json<br/>├── tsconfig.json<br/>├── webpack.config.js<br/>└── yarn.lock</span></pre><h2 id="0208" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">让我们写一些反应吧！</h2><p id="9af7" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">恭喜你，你成功了！你可以开始写反应现在🥳</p><p id="14dc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因为这篇文章不是关于编写React的，所以我不会详细介绍我的React代码，但是我想向您展示如何在React组件中使用SASS。</p><p id="d2dd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们在您的项目根目录中创建一个<code class="du lw lx ly ky b">index.html</code>:</p><figure class="kt ku kv kw fd ij"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="d12a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在让我们添加一些代码！</p><figure class="kt ku kv kw fd ij"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="64f3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了让我的生活更轻松，我在我的<code class="du lw lx ly ky b">package.json</code>中添加了一个Webpack别名</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="96a3" class="jt ju hi ky b fi lc ld l le lf">...<br/>"scripts": {    <br/>  "webpack:dev": "npx webpack --config webpack.config.js"<br/>}</span></pre><p id="2718" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在你可以运行<code class="du lw lx ly ky b">yarn run webpack:dev</code>并打开<code class="du lw lx ly ky b">index.html</code>来查看正在工作的app。🤩</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/04c545c0bbadc4557fb430714897e0be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TsoIU9W76AtzYHPJEJ23Vw.png"/></div></div></figure><p id="6080" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我希望这篇教程对你有帮助，如果你想更深入地研究代码，我会在下面给你链接GitHub repo。</p><p id="8eab" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">干杯，麦克斯。</p><p id="5a26" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">编辑2019年8月8日:</p><p id="229a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如<a class="ae iu" rel="noopener" href="/@juliuskoronci?source=responses---------0-----------------------"> Julius Koronci </a>提到的，Babel不会在构建步骤中检查输入是否正确，所以我添加了<em class="lg"> ts-loader </em> Webpack loader来做这件事。</p><h2 id="6a13" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">源代码</h2><div class="md me ez fb mf mg"><a href="https://github.com/maxbause/typescript-react-sass-webpack-babel-boilerplate" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab dw"><div class="mi ab mj cl cj mk"><h2 class="hj b fi z dy ml ea eb mm ed ef hh bi translated">maxbause/typescript-react-sass-web pack-babel-boilerplate</h2><div class="mn l"><h3 class="bd b fi z dy ml ea eb mm ed ef dx translated">通过在GitHub上创建一个帐户，为maxbause/typescript-react-sass-web pack-babel-boilerplate开发做出贡献。</h3></div><div class="mo l"><p class="bd b fp z dy ml ea eb mm ed ef dx translated">github.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu io mg"/></div></div></a></div><h2 id="5682" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">如果你喜欢这个故事，你可能也想看看我的其他文章</h2><div class="md me ez fb mf mg"><a rel="noopener follow" target="_blank" href="/swlh/create-a-killer-frontend-for-2020-setup-next-js-graphql-styled-components-typescript-and-ssr-fe66cffd7d94"><div class="mh ab dw"><div class="mi ab mj cl cj mk"><h2 class="hj b fi z dy ml ea eb mm ed ef hh bi translated">创建2020年杀手级前端| Setup Next.js、GraphQL、样式化组件、TypeScript和SSR</h2><div class="mn l"><h3 class="bd b fi z dy ml ea eb mm ed ef dx translated">我们没有时间讨论一个糟糕的网站！我将向你展示如何设置一个最强大的网络技术栈前端…</h3></div><div class="mo l"><p class="bd b fp z dy ml ea eb mm ed ef dx translated">medium.com</p></div></div><div class="mp l"><div class="mv l mr ms mt mp mu io mg"/></div></div></a></div></div></div>    
</body>
</html>