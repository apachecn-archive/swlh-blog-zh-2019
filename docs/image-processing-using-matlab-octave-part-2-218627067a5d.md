# ä½¿ç”¨ Matlab/Octave è¿›è¡Œå›¾åƒå¤„ç†â€”ç¬¬äºŒéƒ¨åˆ†

> åŸæ–‡ï¼š<https://medium.com/swlh/image-processing-using-matlab-octave-part-2-218627067a5d>

![](img/e6365c2e996306900451ea1677010eaf.png)

Photo by [Steve Johnson](https://unsplash.com/photos/LOnPLLM4rpQ?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/search/photos/art?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

> åœ¨å‰ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä»€ä¹ˆæ˜¯å›¾åƒå¤„ç†ï¼Œå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä»¥åŠ Matlab/Octave çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ã€‚åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°é¢œè‰²æ¨¡å‹ï¼ŒMatlab/Octave ä¸­çš„ä¸€äº›é™„åŠ å‡½æ•°ï¼Œä»¥åŠå¦‚ä½•è¿›è¡ŒåŸºæœ¬çš„å›¾åƒå¢å¼ºã€‚

# ä»€ä¹ˆæ˜¯é¢œè‰²æ¨¡å‹ï¼Ÿ

é¢œè‰²æ¨¡å‹æ˜¯ä¸€ç§å°†é¢œè‰²è¡¨ç¤ºä¸ºå…ƒç»„ä¸­ä¸‰ä¸ªæˆ–å››ä¸ªæ•°å­—çš„ç»„åˆçš„æ•°å­¦æ–¹æ³•ã€‚

è®©æˆ‘ä»¬çœ‹ä¸€äº›å½©è‰²æ¨¡å‹ã€‚

**RGB(çº¢ç»¿è“)**

![](img/02151f6ca0423c37544a918e049f1c09.png)

RGB Color Model

è¿™æ˜¯ä¸€ä¸ªåŠ è‰²æ¨¡å‹ï¼Œä½ å¯ä»¥çœ‹åˆ°æ‰€æœ‰åŸè‰²çº¢ã€ç»¿ã€è“çš„æ··åˆäº§ç”Ÿç™½è‰²ï¼Œä½ è¿˜å¯ä»¥çœ‹åˆ°é’è‰²ã€å“çº¢è‰²å’Œé»„è‰²ã€‚

**CMY(é’è‰²å“çº¢é»„è‰²)**

![](img/89df096282654e11e78488a6f0a83ee7.png)

CMY Color Model

åœ¨è¿™é‡Œï¼Œå°†è¿™ä¸‰ç§ç‰©è´¨æ··åˆåœ¨ä¸€èµ·å°±æˆäº†é»‘è‰²ã€‚è¿™ç§æ¨¡å¼åœ¨å°åˆ·ä¸­å¹¿æ³›ä½¿ç”¨ï¼Œä½†ç”±äºè¿™ç§é»‘è‰²ä¸æ˜¯çº¯é»‘è‰²ï¼Œæ‰€ä»¥æ·»åŠ äº† K(Key)æ¥å®Œæˆ CMYKï¼Œå…¶ä¸­ K ä»£è¡¨é»‘è‰²ã€‚

å¦ä¸€ä¸ªé¢œè‰²æ¨¡å‹ **HSV(è‰²è°ƒé¥±å’Œåº¦å€¼)**ä¹Ÿè¢«ä½¿ç”¨ã€‚

![](img/615a9035b5541df110173a297f28f26c.png)

[Source](http://gagauznews.md/22463/dualizm-fundamentalnoe-svojstvo-nashego-mira-ili-razvodka.html)

åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°åœ†é”¥è¶Šé è¿‘åº•éƒ¨ï¼Œé¢œè‰²è¶Šæ·±(å€¼)ï¼Œåœ¨åœ†é”¥çš„è¾¹ç¼˜é¢œè‰²æœ€äº®(é¥±å’Œåº¦)ï¼Œåœ¨åœ†å‘¨ä¸Šä½ å¯ä»¥çœ‹åˆ°ä¸åŒçš„é¢œè‰²(è‰²è°ƒ)ã€‚

# Matlab/Octave ä¸­çš„é™„åŠ å‡½æ•°

é¦–å…ˆï¼Œæˆ‘ä»¬å°†äº†è§£å¦‚ä½•åœ¨ Matlab ä¸­è¯»å–/å†™å…¥å›¾åƒå¹¶æ˜¾ç¤ºå®ƒä»¬ã€‚

**è¯»æ•°**:

```
 img = imread(â€œlena.pngâ€);
```

**å†™ä½œ**:

```
 imwrite(img, â€œLena.pngâ€);
```

**æ˜¾ç¤º**:

```
 imshow(img); 
```

**å›¾åƒè½¬æ¢**

ä¸ºäº†åœ¨å›¾åƒä¹‹é—´è¿›è¡Œè½¬æ¢ï¼ŒMatlab ä¸­æœ‰å†…ç½®å‡½æ•°ï¼Œä¾‹å¦‚:

**RGB â†’ç°è‰²:**

```
 gray_image = rgb2gray(rgb_image);
```

**RGBâ†’äºŒè¿›åˆ¶:**

```
 binary = im2bw(rgb_image);
```

**RGB â†’ HSV:**

```
 hsv_image = rgb2hsv(rgb_image);
```

# å›¾åƒå¢å¼º

å¢å¼ºçš„ç›®çš„æ˜¯å¤„ç†å›¾åƒï¼Œä½¿å¾—ç»“æœæ¯”åŸå§‹å›¾åƒæ›´é€‚åˆç‰¹å®šçš„åº”ç”¨ã€‚å›¾åƒå¢å¼ºæ–¹æ³•åˆ†ä¸ºä¸¤å¤§ç±»:ç©ºé—´åŸŸå’Œé¢‘ç‡åŸŸã€‚

åœ¨ç©ºé—´åŸŸä¸­ï¼Œç›´æ¥åœ¨å›¾åƒçš„åƒç´ ä¸Šè¿›è¡Œå›¾åƒæ“ä½œã€‚å®ƒå¯ä»¥è¡¨ç¤ºä¸º:

```
 G(x, y) = T[F(x, y)]
```

å…¶ä¸­ï¼Œ(xï¼Œy)æ˜¯åƒç´ çš„åæ ‡ï¼ŒF æ˜¯è¾“å…¥å›¾åƒï¼ŒG æ˜¯å¢å¼ºå›¾åƒï¼ŒT æ˜¯ F ä¸Šçš„ç®—å­ã€‚

ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›è¿ç®—ç¬¦:

1.  **å›¾åƒé˜´æ€§**

å›¾åƒçš„è´Ÿç‰‡å°±æ˜¯ä» 255 çš„ç°åº¦å›¾åƒä¸­å‡å»åƒç´ å€¼ã€‚å®ƒçš„å½¢å¼å¦‚ä¸‹:

```
 N = (L - 1) - I
```

å…¶ä¸­ï¼ŒL-1 = 255ï¼Œç”¨äºç°åº¦å›¾åƒï¼ŒI æ˜¯å›¾åƒåƒç´ ã€‚

ç°åœ¨è®©æˆ‘ä»¬åœ¨ Matlab ä¸­å®ç°å®ƒ:

```
clear all; % clear all variables
close all; % close all figures
clc;       % clear command window% import image package
pkg load image;% read image
img = imread(â€œlena.pngâ€);% convert image into gray and then from uint8 to double
grayscale_img = rgb2gray(img);% show grayscale image
figure
imshow(grayscale_img);
title(â€œgrayscale imageâ€);
imwrite(grayscale_img, â€œoriginal.jpgâ€);# calculate negative of the image
output = 255 â€” grayscale_img;% show output image
figure
imshow(uint8(output));
title(â€œoutput imageâ€);
imwrite(uint8(output), â€œnegative_tansformation.jpgâ€);
```

å‰ 3 è¡Œæ¸…é™¤å†…å­˜ä¸­çš„å˜é‡ï¼Œå…³é—­æ‰€æœ‰æ‰“å¼€çš„çª—å£ï¼Œå¹¶æ¸…ç©ºç»ˆç«¯ã€‚

ç„¶åï¼Œæˆ‘ä»¬å¯¼å…¥å›¾åƒåŒ…ã€‚å¦‚æœä½ ä¸çŸ¥é“å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼Œå»[è¿™é‡Œ](https://octave.sourceforge.io/image/index.html)å¹¶ä¸”ä¸‹è½½è¿™ä¸ªåŒ…å¹¶ä¸”è·Ÿéšè¿™ä¸ª[æ•™ç¨‹](https://octave.org/doc/v4.2.1/Installing-and-Removing-Packages.html)ã€‚

ç°åœ¨å›¾åƒè¢«è¯»å–å¹¶è½¬æ¢æˆç°åº¦ã€‚åœ¨è¿™ä¹‹åï¼Œä¸€ä¸ªæ–°çš„çª—å£è¢«åˆ›å»ºï¼Œå›¾åƒæ˜¾ç¤ºä¸ºæ ‡é¢˜â€œç°åº¦å›¾åƒâ€å¹¶è¢«å†™å…¥â€œåŸå§‹. jpgâ€ã€‚

*â€œè¾“å‡ºâ€*æ˜¯è¾“å…¥å›¾åƒçš„è´Ÿç‰‡ï¼Œè¿›è¡ŒåŒæ ·çš„æ˜¾ç¤ºå’Œå†™å…¥ã€‚

**2ã€‚æ—¥å¿—è½¬æ¢:**

è¿™æ˜¯é€šè¿‡ä»¥ä¸‹æ“ä½œå®Œæˆçš„:

```
 s = c log(1+r)
```

å…¶ä¸­ c æ˜¯å¸¸æ•°ã€‚

å®ƒæ‰©å±•äº†æš—åƒç´ çš„å€¼(æ¥è¿‘ 0)å¹¶å‹ç¼©äº†è¾ƒé«˜ç­‰çº§çš„å€¼(æ¥è¿‘ 255)ï¼Œå³å‹ç¼©äº†å›¾åƒçš„[åŠ¨æ€èŒƒå›´](https://en.wikipedia.org/wiki/Dynamic_range)ï¼Œå›¾åƒçœ‹èµ·æ¥è¤ªè‰²äº†ã€‚

ä»£ç :

```
c = 45;
output = c * log(1 + grayscale_img);
```

**3ã€‚å¹‚å¾‹å˜æ¢**

å®ƒä¹Ÿè¢«ç§°ä¸ºä¼½é©¬æ ¡æ­£ã€‚å®ƒçš„åŸºæœ¬å½¢å¼æ˜¯:

```
 s = c * r^ğ›„
```

å…¶ä¸­ c å’Œğ›„æ˜¯å¸¸æ•°ï¼Œr æ˜¯è¾“å…¥å›¾åƒã€‚

![](img/b53e5552e95ba7dc23208af18d47dd57.png)

è¿™æ˜¯ä¸€ä¸ª s å¯¹ğ›„çš„æ›²çº¿å›¾ï¼Œå…¶ä¸­ğ›„ < 1 results in dark values and ğ›„ > 1 äº§ç”Ÿäº†æ˜äº®çš„å€¼ã€‚

ä»£ç :

```
r = double(img)/255;
c = 1;
gamma = 0.6;
s = c * (r) .^ gamma;
```

**4ã€‚å¯¹æ¯”åº¦æ‹‰ä¼¸**

å¯¹æ¯”åº¦æ˜¯å›¾åƒâ€œèŒƒå›´â€çš„é‡åº¦ï¼›å³å®ƒçš„å¼ºåº¦æœ‰å¤šåˆ†æ•£ã€‚

```
 Contrast = ( Imax â€” Imin ) / ( Imax + Imin )
```

å®ƒå°†å›¾åƒä¸­çš„æœ€å°å¼ºåº¦æ˜ å°„åˆ°èŒƒå›´(0â€“100)ä¸­çš„æœ€å°å€¼ï¼Œå°†å›¾åƒä¸­çš„æœ€å¤§å¼ºåº¦æ˜ å°„åˆ°æœ€å¤§å€¼(200â€“255)ã€‚å¯¹æ¯”åº¦æ‹‰ä¼¸å°±æ˜¯å¢åŠ å›¾åƒä¸­æœ€å¤§å¼ºåº¦å€¼å’Œæœ€å°å¼ºåº¦å€¼ä¹‹é—´çš„å·®å¼‚ã€‚æ‰€æœ‰å‰©ä½™çš„å¼ºåº¦å€¼éƒ½åˆ†å¸ƒåœ¨è¿™ä¸ªèŒƒå›´å†…ã€‚

ä»£ç :

ä½¿ç”¨ *imadjust* åªç”¨ä¸€è¡Œä»£ç å°±å¯ä»¥å®Œæˆã€‚

```
cs = imadjust(gray_img, stretchlim(gray_img),[]);
```

æˆ–è€…ç”¨ä¸‹é¢çš„å…¬å¼:

```
a      = min(img(:));            %minimum pixel of image X
b      = max(img(:));            %maximum pixel of image X 
cs_img = (img - a) .* (255 / (b - a));
```

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°ä½¿ç”¨ MATLAB/Octave çš„å›¾åƒæ»¤æ³¢ã€‚

è¯·ç‚¹å‡»ğŸ‘æŒ‰é’®ï¼Œå¦‚æœä½ å–œæ¬¢è¿™ä¸ªå¸–å­ï¼Œæ‹¿ç€å®ƒç»™æ›´å¤šçš„çˆ±ã€‚

å¦‚æœæ‚¨å¸Œæœ›è¿æ¥:

[**Github**](https://github.com/adesgautam)**[**LinkedIn**](https://www.linkedin.com/in/adesh-gautam-518810127/)**[**Twitter**](https://twitter.com/gautamades)**[**insta gram**](https://www.instagram.com/adeshgautam/)******

****[![](img/308a8d84fb9b2fab43d66c117fcc4bb4.png)](https://medium.com/swlh)****

## ****è¿™ç¯‡æ–‡ç« å‘è¡¨åœ¨ [The Startup](https://medium.com/swlh) ä¸Šï¼Œè¿™æ˜¯ Medium æœ€å¤§çš„åˆ›ä¸šåˆŠç‰©ï¼Œæ‹¥æœ‰+442ï¼Œ678 è¯»è€…ã€‚****

## ****åœ¨è¿™é‡Œè®¢é˜…æ¥æ”¶[æˆ‘ä»¬çš„å¤´æ¡æ–°é—»](https://growthsupply.com/the-startup-newsletter/)ã€‚****

****[![](img/b0164736ea17a63403e660de5dedf91a.png)](https://medium.com/swlh)****