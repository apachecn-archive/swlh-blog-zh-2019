<html>
<head>
<title>Angular 7 models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular 7æ¬¾</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/swlh/angular-7-models-cd0cd80f5e33#2019-04-18">https://medium.com/swlh/angular-7-models-cd0cd80f5e33#2019-04-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0ac7b2d1aaa21e4693592b5c7b8c86ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y9_BdXg-L4OrXnKxKjNWqA.jpeg"/></div></div></figure><p id="a447" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç”±äºæˆ‘çš„<a class="ae jo" href="https://nehalist.io/working-with-models-in-angular/" rel="noopener ugc nofollow" target="_blank">ä¸Šä¸€ç¯‡å…³äºAngularæ¨¡å‹çš„æŒ‡å—</a>æ˜¯åœ¨2017å¹´9æœˆå†™çš„ï¼Œç°åœ¨è‚¯å®šæ˜¯æ›´æ–°Angularæœ€æ–°ç‰ˆæœ¬çš„æ—¶å€™äº†ã€‚å…³äºå®ç°çš„ä¸€äº›äº‹æƒ…å·²ç»æ”¹å˜äº†ï¼Œç‰¹åˆ«æ˜¯åœ¨å¦‚ä½•åˆ›å»ºæˆ‘ä»¬çš„ç±»(ç°åœ¨é€šè¿‡Angular CLIå®Œæˆ)ã€<code class="du jp jq jr js b">HttpClient</code>å¦‚ä½•å·¥ä½œ(å·²ç»å˜å¾—é€šç”¨)ä»¥åŠå¦‚ä½•å°†æˆ‘ä»¬çš„å“åº”æ˜ å°„åˆ°æˆ‘ä»¬çš„æ¨¡å‹(é€šè¿‡ç®¡é“)æ–¹é¢ã€‚</p><p id="998a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ­¤å¤–ï¼Œæœ¬æŒ‡å—å°†å°è¯•æ¶µç›–ä¸Šä¸€æŒ‡å—ä¸­å‡ºç°çš„ä¸€äº›é—®é¢˜ã€‚</p><p id="3791" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¯¹äºTLï¼›è¿™ä¸ªå¸–å­çš„DRç‰ˆæœ¬è§<a class="ae jo" href="https://github.com/nehalist/angular7-models" rel="noopener ugc nofollow" target="_blank"> GitHubèµ„æºåº“</a>ã€‚</p><h1 id="d0fd" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">è®¡ç®—æœºç½‘ç»œæœåŠ¡å™¨</h1><p id="0886" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">å¯¹äºæœ¬æŒ‡å—ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª<em class="kw">éå¸¸</em>å°çš„<a class="ae jo" href="https://express.js.com" rel="noopener ugc nofollow" target="_blank"> expressjs </a>æœåŠ¡å™¨æ¥æœåŠ¡æˆ‘ä»¬çš„æ•°æ®ã€‚è¿™ä¸ªæœåŠ¡å™¨(ç”¨æ™®é€šJavaScriptå®ç°)å°†è¿”å›ç®€å•çš„JSONï¼Œç„¶åæ˜ å°„åˆ°Angularä¸­çš„æ¨¡å‹ã€‚</p><pre class="kx ky kz la fd lb js lc ld aw le bi"><span id="9cd5" class="lf ju hi js b fi lg lh l li lj">// server.js<br/><br/>// Our users which will be queried by their index<br/>const users = [<br/>  {<br/>    firstName: "Jesse",<br/>    lastName: "Pinkman",<br/>    position: "Manufacturer",<br/>    cars: [<br/>      {<br/>        brand: "BMW",<br/>        model: "M3",<br/>        kW: 338,<br/>      },<br/>    ],<br/>  },<br/>  {<br/>    firstName: "Walter",<br/>    lastName: "White",<br/>    position: "CEO",<br/>    cars: [<br/>      {<br/>        brand: "BMW",<br/>        model: "335i",<br/>        kW: 225,<br/>      },<br/>      {<br/>        brand: "Lamborghini",<br/>        model: "Aventador",<br/>        kW: 566,<br/>      }<br/>    ],<br/>  },<br/>];<br/><br/>// Allow cross-origin requests<br/>app.use(function(req, res, next) {<br/>  res.header("Access-Control-Allow-Origin", "*");<br/>  res.header("Access-Control-Allow-Headers", "Origin, X-Requested-With, Content-Type, Accept");<br/>  next();<br/>});<br/><br/>app.get("/users", (req, res) =&gt; {<br/>  return res.json(users);<br/>});<br/><br/>app.get("/user/:id", (req, res) =&gt; {<br/>  // To prevent the ID "0" we'll simply subtract by one. This way we can query for id = 2 which will serve us 1, etc.<br/>  const idx = req.params.id - 1;<br/><br/>  if (!users[idx]) {<br/>    return res.status(404).json({ error: "User not found" });<br/>  }<br/><br/>  return res.json(users[idx]);<br/>});<br/><br/>app.listen(3000, () =&gt; {<br/>  console.log("Server running on port 3000");<br/>});</span></pre><p id="d71a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æœåŠ¡å™¨ä»¥<code class="du jp jq jr js b">node server.js</code>å¯åŠ¨ï¼Œå°†æä¾›APIæ¥æ ¹æ®ä¸¤ä¸ªä¸åŒç”¨æˆ·çš„IDæŸ¥è¯¢ä»–ä»¬ã€‚ä¾‹å¦‚<code class="du jp jq jr js b">http://localhost:3000/2</code>ä¼šè¾“å‡º:</p><pre class="kx ky kz la fd lb js lc ld aw le bi"><span id="1b50" class="lf ju hi js b fi lg lh l li lj">{<br/>  "firstName": "Walter",<br/>  "lastName": "White",<br/>  "position": "CEO",<br/>  "cars": [<br/>    {<br/>      "brand": "BMW",<br/>      "model": "335i",<br/>      "kW": 225<br/>    },<br/>    {<br/>      "brand": "Lamborghini",<br/>      "model": "Aventador",<br/>      "kW": 566<br/>    }<br/>  ]<br/>}</span></pre><p id="0931" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å‰å¾€<code class="du jp jq jr js b">http://localhost:3000/users</code>å°†è¿”å›æ‰€æœ‰ç”¨æˆ·çš„åˆ—è¡¨ã€‚</p><p id="3688" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘ä»¬è¿™é‡Œæœ‰ä¸¤ä¸ªå¯¹è±¡ï¼Œå®ƒä»¬å°†è¢«æ˜ å°„åˆ°é€‚å½“çš„æ¨¡å‹å¯¹è±¡ï¼›ç”¨æˆ·æœ¬èº«åŠå…¶æ±½è½¦<strong class="is lk"> s </strong> ( <em class="kw">å¤æ•°ï¼</em>)ã€‚</p><h1 id="8e63" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">è§’åº¦åº”ç”¨</h1><p id="6b4c" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">è®©æˆ‘ä»¬ä»æœ€åº•å±‚å¼€å§‹ï¼Œä½¿ç”¨Angular CLIåˆ›å»ºæ–°çš„Angularåº”ç”¨ç¨‹åº:</p><pre class="kx ky kz la fd lb js lc ld aw le bi"><span id="24ea" class="lf ju hi js b fi lg lh l li lj">ng g angular7-models <br/>cd angular7-models</span></pre><p id="91ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¯¹æˆ‘ä»¬çš„ç”¨æˆ·å’Œä¸¤ä¸ªæ¨¡å‹è´Ÿè´£çš„æœåŠ¡ï¼Œä¸€ä¸ªä»£è¡¨ç”¨æˆ·ï¼Œä¸€ä¸ªä»£è¡¨æ±½è½¦ã€‚</p><pre class="kx ky kz la fd lb js lc ld aw le bi"><span id="7b9d" class="lf ju hi js b fi lg lh l li lj">ng g service services/user <br/>ng g class models/user.model <br/>ng g class models/car.model</span></pre><p id="a274" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è¿™(ä»¥åŠå·²ç»å­˜åœ¨çš„åº”ç”¨ç¨‹åºç»„ä»¶)æ˜¯æˆ‘ä»¬åœ¨æœ¬æŒ‡å—ä¸­éœ€è¦çš„æ‰€æœ‰ä¸œè¥¿çš„åŸºç¡€ã€‚</p><h1 id="bec7" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">æ¨¡å‹å’Œååºåˆ—åŒ–</h1><p id="4de2" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">å½“ä»æˆ‘ä»¬çš„APIæŸ¥è¯¢æ—¶ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„æ¨¡å‹éƒ½éœ€è¦è¢«ååºåˆ—åŒ–ã€‚è¿™åªæ˜¯æŒ‡å®šäº†æ¥è‡ªAPIçš„æ•°æ®æ˜ å°„åˆ°æ¨¡å‹ç±»çš„æ–¹å¼ã€‚</p><p id="8351" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ­£å¦‚åœ¨<a class="ae jo" href="https://nehalist.io/working-with-models-in-angular/#deserialization" rel="noopener ugc nofollow" target="_blank">ä¹‹å‰çš„æŒ‡å—</a>ä¸­ä¸€æ ·ï¼Œæˆ‘ä»¬å°†ç®€å•åœ°å®ç°ä¸€ä¸ª<code class="du jp jq jr js b">Deserializable</code>æ¥å£ï¼Œè¯¥æ¥å£å°†ç”±æˆ‘ä»¬çš„æ¨¡å‹åœ¨ä¹‹åå®ç°:</p><pre class="kx ky kz la fd lb js lc ld aw le bi"><span id="ca04" class="lf ju hi js b fi lg lh l li lj">// src/app/models/deserializable.model.ts<br/><br/>export interface Deserializable {<br/>  deserialize(input: any): this;<br/>}</span></pre><p id="5818" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è¿™ä¸ªæ¥å£å°†ç”±æˆ‘ä»¬çš„æ¨¡å‹å®ç°ï¼›<code class="du jp jq jr js b">deserialize</code>å°†è´Ÿè´£å°†æˆ‘ä»¬çš„æ•°æ®æ˜ å°„åˆ°æˆ‘ä»¬çš„å¯¹è±¡ã€‚</p><h1 id="4db2" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">æ±½è½¦æ¨¡å‹</h1><p id="66cc" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">å› ä¸ºæˆ‘ä»¬çš„æ±½è½¦æ¨¡å‹æ²¡æœ‰ä»»ä½•å…³ç³»(è¿™ä½¿å¾—<em class="kw">æ›´å®¹æ˜“</em>æ¨¡å‹å®ç°),è®©æˆ‘ä»¬ä»è¿™ä¸ªæ¨¡å‹å¼€å§‹ã€‚</p><pre class="kx ky kz la fd lb js lc ld aw le bi"><span id="3037" class="lf ju hi js b fi lg lh l li lj">// src/app/models/car.model.ts<br/><br/>import {Deserializable} from './deserializable.model';<br/><br/>export class Car implements Deserializable {<br/>  public brand: 'BMW' | 'Audi' | 'Lamborghini' | 'Mercedes';<br/>  public model: string;<br/>  public kW: number;<br/><br/>  deserialize(input: any): this {<br/>    return Object.assign(this, input);<br/>  }<br/>  <br/>  getHp() {<br/>    return this.kW * 1.36;<br/>  }<br/>}</span></pre><p id="1a14" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code class="du jp jq jr js b">Object.assign</code>æ˜¯ä¸€ä¸ªç®€å•çš„åŠ©æ‰‹ï¼Œ<em class="kw">å°†</em>æˆ‘ä»¬çš„è¾“å…¥åˆ†é…ç»™æˆ‘ä»¬çš„å¯¹è±¡â€”â€”ç”±äºæˆ‘ä»¬ä¸éœ€è¦ä»»ä½•åˆ†é…é€»è¾‘(æ¯”å¦‚ä»æˆ‘ä»¬çš„APIè½¬æ¢æˆ–ä¿®æ”¹æ•°æ®),è¿™å°±è¶³å¤Ÿäº†ã€‚</p><p id="b704" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ­¤å¤–ï¼Œå‡ºäºæ¼”ç¤ºçš„ç›®çš„ï¼Œè¿™ä¸ªæ¨¡å‹æœ‰ä¸€ä¸ªå®ç”¨ç¨‹åºæ–¹æ³•ï¼Œå°†æˆ‘ä»¬æ±½è½¦çš„åƒç“¦æ•°è½¬æ¢ä¸ºé©¬åŠ›â€”â€”æˆ‘ä»¬å°†åœ¨ç¨åçš„UIä¸­ä½¿ç”¨è¿™ä¸ªå®ç”¨ç¨‹åºã€‚</p><h1 id="576a" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">ç”¨æˆ·æ¨¡å‹</h1><p id="0203" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">æˆ‘ä»¬çš„ç”¨æˆ·æ¨¡å‹å°†ä¸æˆ‘ä»¬çš„æ±½è½¦æ¨¡å‹ç›¸å…³è”ï¼›ä¸€ä¸ªç”¨æˆ·å¯ä»¥æ‹¥æœ‰<em class="kw">å¤šè¾†</em>æ±½è½¦ã€‚è¿™è¦æ±‚æˆ‘ä»¬åœ¨ç”¨æˆ·æ¨¡å‹ä¸­è¿›è¡Œååºåˆ—åŒ–ï¼Œä»¥é¢å¤–å¤„ç†æ±½è½¦çš„ååºåˆ—åŒ–ï¼›</p><pre class="kx ky kz la fd lb js lc ld aw le bi"><span id="7379" class="lf ju hi js b fi lg lh l li lj">// src/app/models/user.model.ts<br/><br/>import {Deserializable} from './deserializable.model';<br/>import {Car} from './car.model';<br/><br/>export class User implements Deserializable {<br/>  public id: number;<br/>  public firstName: string;<br/>  public lastName: string;<br/>  public position: string;<br/>  public cars: Car[];<br/><br/>  deserialize(input: any): this {<br/>    // Assign input to our object BEFORE deserialize our cars to prevent already deserialized cars from being overwritten.<br/>    Object.assign(this, input);<br/><br/>    // Iterate over all cars for our user and map them to a proper `Car` model<br/>    this.cars = input.cars.map(car =&gt; new Car().deserialize(car));<br/><br/>    return this;<br/>  }<br/>  <br/>  getFullName() {<br/>    return this.firstName + ' ' + this.lastName;<br/>  }<br/>}</span></pre><p id="3dbc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è¿™ä¸ªååºåˆ—åŒ–æ–¹æ³•çš„å·¥ä½œæ–¹å¼<em class="kw">ä¸æˆ‘ä»¬çš„carç•¥æœ‰ä¸åŒï¼›åœ¨</em>å°†æˆ‘ä»¬çš„è¾“å…¥åˆ†é…ç»™ç”¨æˆ·æ¨¡å‹ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ååºåˆ—åŒ–æˆ‘ä»¬çš„æ±½è½¦<em class="kw">ï¼Œä»¥é˜²æ­¢è¾“å…¥è¦†ç›–æˆ‘ä»¬çš„æ±½è½¦å±æ€§ã€‚</em></p><p id="11e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å› ä¸ºæˆ‘ä»¬çŸ¥é“<code class="du jp jq jr js b">input.cars</code>æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨äº†<code class="du jp jq jr js b"><a class="ae jo" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noopener ugc nofollow" target="_blank">Array.prototype.map()</a></code>ã€‚è¿™å°†éå†æˆ‘ä»¬çš„æ‰€æœ‰å…ƒç´ (åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­:æˆ‘ä»¬çš„æ±½è½¦)ï¼Œååºåˆ—åŒ–å®ƒä»¬å¹¶è¿”å›ä¸€ä¸ªåŒ…å«ååºåˆ—åŒ–æ¨¡å‹çš„æ•°ç»„ã€‚</p><blockquote class="ll lm ln"><p id="ff3c" class="iq ir kw is b it iu iv iw ix iy iz ja lo jc jd je lp jg jh ji lq jk jl jm jn hb bi translated"><strong class="is lk"> <em class="hi">æ³¨</em> </strong> <em class="hi">:å¦‚æœä½ æƒ³çŸ¥é“æ˜¯å¦å¯ä»¥ç”¨</em> <code class="du jp jq jr js b"><a class="ae jo" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" rel="noopener ugc nofollow" target="_blank"><em class="hi">Array.prototype.forEach()</em></a></code> <em class="hi"> : </em>ä¸è¡Œï¼<em class="hi"/><code class="du jp jq jr js b"><em class="hi">forEach</em></code><em class="hi">å’Œ</em> <code class="du jp jq jr js b"><em class="hi">map</em></code> <em class="hi">çš„æœ€å¤§åŒºåˆ«åœ¨äº</em> <code class="du jp jq jr js b"><em class="hi">map</em></code> <em class="hi"> </em>è¿”å›ä¸€ä¸ªæ–°æ•°ç»„<em class="hi">è€Œ</em> <code class="du jp jq jr js b"><em class="hi">forEach</em></code> <em class="hi">åªæ˜¯å°†æä¾›çš„å›è°ƒåº”ç”¨äºæˆ‘ä»¬æ‰€æœ‰çš„æ•°ç»„é¡¹â€”â€”ä½†ä¸è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚</em></p></blockquote><p id="1f14" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘ä»¬å†æ¬¡å®ç°äº†ä¸€ä¸ªå®ç”¨æ–¹æ³•æ¥ç›´æ¥è·å–ç”¨æˆ·çš„å…¨åã€‚</p><p id="41cc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è¿™å°±æ˜¯æˆ‘ä»¬çš„æ¨¡å‹ã€‚è®©æˆ‘ä»¬é€šè¿‡æˆ‘ä»¬çš„æœåŠ¡æ¥æŸ¥è¯¢å®ƒä»¬å§ï¼</p><h1 id="9d5f" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">ç”¨æˆ·æœåŠ¡ç¨‹åº</h1><p id="a3cf" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">è‡ªä»æˆ‘çš„ä¸Šä¸€ç¯‡æŒ‡å—ä»¥æ¥ï¼Œä¸€ä¸ªä¸»è¦çš„å˜åŒ–æ˜¯<code class="du jp jq jr js b">HttpClient</code>çš„å·¥ä½œæ–¹å¼ã€‚å®ƒå·²ç»å˜å¾—é€šç”¨äº†ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å‘Šè¯‰å®ƒï¼Œæˆ‘ä»¬æœŸæœ›ä»€ä¹ˆç±»å‹çš„ååº”ã€‚</p><pre class="kx ky kz la fd lb js lc ld aw le bi"><span id="cf0b" class="lf ju hi js b fi lg lh l li lj">// src/app/services/user.service.ts<br/><br/>import {Injectable} from '@angular/core';<br/>import {HttpClient} from '@angular/common/http';<br/>import {Observable} from 'rxjs';<br/>import {User} from '../models/user.model';<br/>import {map} from 'rxjs/operators';<br/><br/>@Injectable({<br/>  providedIn: 'root'<br/>})<br/>export class UserService {<br/><br/>  constructor(private httpService: HttpClient) {<br/>  }<br/>  <br/>  public getUser(id: number): Observable&lt;User&gt; {<br/>    return this.httpService.get&lt;User&gt;(`http://localhost:3000/user/${id}`).pipe(<br/>      map(data =&gt; new User().deserialize(data)),<br/>      catchError(() =&gt; throwError('User not found'))<br/>    );<br/>  }<br/><br/>  public getAllUsers(): Observable&lt;User[]&gt; {<br/>    return this.httpService.get&lt;User[]&gt;(`http://localhost:3000/users`).pipe(<br/>      map(data =&gt; data.map(data =&gt; new User().deserialize(data)))<br/>    );<br/>  }<br/>}</span></pre><p id="e4db" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è¿™é‡Œæœ‰ä¸¤ä¸ªæ–¹æ³•:ä¸€ä¸ªç”¨äºæŸ¥è¯¢ç‰¹å®šç”¨æˆ·ï¼Œå¦ä¸€ä¸ªç”¨äºæŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ã€‚</p><p id="abdb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä¸¤ç§æ–¹æ³•éƒ½é€šè¿‡from RxJSå°†å®ƒä»¬çš„å“åº”æ˜ å°„åˆ°æˆ‘ä»¬çš„æ¨¡å‹ã€‚æˆ‘ä»¬çš„<code class="du jp jq jr js b">getUser</code>æ–¹æ³•é¢å¤–å®ç°äº†ä¸€äº›é”™è¯¯å¤„ç†ï¼Œè¿™åœ¨è¯•å›¾æŸ¥è¯¢ä¸€ä¸ªä¸å­˜åœ¨çš„ç”¨æˆ·æ—¶å¾ˆæœ‰ç”¨ã€‚</p><p id="f5e9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è¿™å°±æ˜¯æˆ‘ä»¬çš„æœåŠ¡ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥é€šè¿‡æˆ‘ä»¬çš„æœåŠ¡ä½¿ç”¨æˆ‘ä»¬çš„æ¨¡å‹ï¼</p><h1 id="0030" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">åº”ç”¨ç¨‹åºç»„ä»¶</h1><p id="bcc1" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºç»„ä»¶å°†æœ‰ä¸¤ä¸ªéå¸¸ç®€å•çš„ç‰¹æ€§:æŸ¥è¯¢ä¸€ä¸ªç‰¹å®šçš„ç”¨æˆ·(ä½¿ç”¨<code class="du jp jq jr js b">getUser</code>æœåŠ¡æ–¹æ³•)å’ŒæŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·(ä½¿ç”¨<code class="du jp jq jr js b">getAllUsers</code>æœåŠ¡æ–¹æ³•)ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†æŠŠä¸¤ä¸ªåŠŸèƒ½çš„é€»è¾‘æ”¾åœ¨ä¸€ä¸ªç»„ä»¶ä¸­ã€‚</p><p id="cad5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è®©æˆ‘ä»¬ä»æ¨¡æ¿å¼€å§‹:</p><pre class="kx ky kz la fd lb js lc ld aw le bi"><span id="8243" class="lf ju hi js b fi lg lh l li lj">&lt;!-- src/app/app.component.html --&gt;<br/><br/>&lt;div style="width: 400px; margin: auto;"&gt;<br/>  &lt;h2&gt;Angular 7 model showcase&lt;/h2&gt;<br/>  &lt;input type="number" [(ngModel)]="userId" placeholder="User ID"&gt;<br/>  &lt;button type="button" (click)="getUser()"&gt;Get user&lt;/button&gt;<br/><br/>  &lt;button type="button" (click)="getAllUsers()"&gt;Get all users&lt;/button&gt;<br/><br/>  &lt;div *ngIf="user"&gt;<br/>    User is called {{user.getFullName()}}. He has the following cars:<br/>    &lt;ul&gt;<br/>      &lt;li *ngFor="let car of user.cars"&gt;<br/>        {{car.brand}} {{car.model}} with {{car.getHp()}} hp.<br/>      &lt;/li&gt;<br/>    &lt;/ul&gt;<br/>  &lt;/div&gt;<br/><br/>  &lt;div *ngIf="users"&gt;<br/>    &lt;hr&gt;<br/><br/>    &lt;ul&gt;<br/>      &lt;li *ngFor="let user of users;"&gt;<br/>        {{user.getFullName()}} is {{user.position}} and has {{user.cars.length}} cars<br/>      &lt;/li&gt;<br/>    &lt;/ul&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="af87" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è¿™å°†æŠŠæˆ‘ä»¬å¸¦åˆ°è¿™ä¸ª<em class="kw">éå¸¸æ¼‚äº®çš„</em>ç”¨æˆ·ç•Œé¢:</p><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es lr"><img src="../Images/3809581a92aed204043548187ec6eb0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/0*Hm7PA88y-K7eXw4p.png"/></div></figure><p id="d300" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨å®ƒå®Œå…¨å·¥ä½œä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å®ç°é™„åŠ åœ¨æŒ‰é’®ä¸Šçš„ç‚¹å‡»äº‹ä»¶ï¼›</p><pre class="kx ky kz la fd lb js lc ld aw le bi"><span id="75ec" class="lf ju hi js b fi lg lh l li lj">import {Component} from '@angular/core';<br/>import {UserService} from './services/user.service';<br/>import {User} from './models/user.model';<br/><br/>@Component({<br/>  selector: 'app-root',<br/>  templateUrl: './app.component.html',<br/>  styleUrls: ['./app.component.css']<br/>})<br/>export class AppComponent {<br/>  public userId: number;<br/><br/>  public user: User;<br/><br/>  public users: User[];<br/><br/>  constructor(private userService: UserService) {<br/>  }<br/><br/>  public getUser() {<br/>    this.userService.getUser(this.userId).subscribe(user =&gt; this.user = user);<br/>  }<br/><br/>  public getAllUsers() {<br/>    this.userService.getAllUsers().subscribe(users =&gt; this.users = users);<br/>  }<br/>}</span></pre><p id="947f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç§ï¼Œæˆ‘ä»¬å®Œæˆäº†:</p><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/474bccf82ada47d6354a51de3659f31f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/0*Rdim5UXDkjyiL8Z1.gif"/></div></figure><p id="506d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="kw">æƒŠè®¶äºæˆ‘ä»¬</em> <code class="du jp jq jr js b"><em class="kw">getHp</em></code> <em class="kw">æ–¹æ³•çš„è¿™ç§è¿‘ä¹ç–¯ç‹‚çš„kWåˆ°HPçš„è½¬æ¢ï¼Œå› ä¸ºæˆ‘å·²ç»å¿˜è®°å››èˆäº”å…¥äº†ï¼</em></p><p id="c8ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘ä»¬æ¨¡æ¿ä¸­çš„æ‰€æœ‰ç”¨æˆ·äº¤äº’ç°åœ¨éƒ½æ˜¯æˆ‘ä»¬çš„<code class="du jp jq jr js b">User</code>å¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹(æ¯ä¸ªç”¨æˆ·çš„æ±½è½¦éƒ½æ˜¯<code class="du jp jq jr js b">Car</code>çš„ä¸€ä¸ªå®ä¾‹)â€”â€”è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ‰€æœ‰çš„åŠ©æ‰‹å·¥å…·å¹¶ä¸çœŸæ­£çš„å¯¹è±¡ä¸€èµ·å·¥ä½œã€‚</p><h1 id="9067" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">ç»“è®º</h1><p id="5204" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">å¤„ç†çœŸå®çš„å¯¹è±¡è€Œä¸æ˜¯åŸå§‹çš„JSONä¼šè®©ä½ çš„ç”Ÿæ´»å˜å¾—å®¹æ˜“å¾—å¤š(å‚è§æˆ‘ä¹‹å‰çš„å…³äºè¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹çš„æŒ‡å—)ã€‚</p><p id="6d3d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å’Œå¾€å¸¸ä¸€æ ·ï¼Œä½ å¯ä»¥åœ¨GitHub ä¸Šæ‰¾åˆ°è¯¥æŒ‡å—çš„å®Œæ•´æºä»£ç ã€‚</p></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><p id="f1ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç•™ä¸‹ğŸ‘ï¼Œå…³æ³¨æˆ‘ä¸Š <a class="ae jo" href="https://twitter.com/nehalist" rel="noopener ugc nofollow" target="_blank"> <em class="kw">æ¨ç‰¹</em> </a> <em class="kw">å¹¶è®¢é˜…</em> <a class="ae jo" href="https://nehalist.io/newsletter/" rel="noopener ugc nofollow" target="_blank"> <em class="kw">æˆ‘çš„å¿«è®¯</em> </a> <em class="kw">ã€‚åŸè½½äº2019å¹´4æœˆ18æ—¥</em><a class="ae jo" href="https://nehalist.io/angular-7-models/" rel="noopener ugc nofollow" target="_blank"><em class="kw">https://nehalist . io</em></a><em class="kw">ã€‚</em></p></div></div>    
</body>
</html>