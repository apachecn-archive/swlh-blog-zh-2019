<html>
<head>
<title>Tutorial on Interactive Rebasing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">交互式重置基础教程</h1>
<blockquote>原文：<a href="https://medium.com/swlh/tutorial-on-interactive-rebasing-e3f49505b2ce#2019-05-24">https://medium.com/swlh/tutorial-on-interactive-rebasing-e3f49505b2ce#2019-05-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="861d" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">如何执行交互式重置基础</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/cb4ccf9583d5b7e3fd8f38c0484cbed6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4WLZS2JGJ4d6M2HBheBzZg.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://www.pexels.com/@andrewtneel?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Andrew Neel </a>from <a class="ae jn" href="https://www.pexels.com/photo/white-flag-2330507/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><h1 id="cd9a" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated"><strong class="ak">简介</strong></h1><p id="76ff" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">让我们面对现实吧，“git可以<em class="lc">变得</em>真的很快”。在一次关于如何使用git命令的谈话中，我的一位导师重复了这些话。</p><p id="83cf" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">目前，我正在学习如何在我的本地分支上重新设置我的提交消息，以便我有一个线性提交历史，并希望与您分享我迄今为止的经验。</p><h2 id="c52c" class="li jp hi bd jq lj lk ll ju lm ln lo jy kp lp lq ka kt lr ls kc kx lt lu ke lv bi translated"><strong class="ak">目标受众</strong></h2><p id="6e3c" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">本教程面向任何git新手、想要了解rebase命令的人以及任何想要学习如何使用Vim更改提交历史的人。</p><h2 id="abc1" class="li jp hi bd jq lj lk ll ju lm ln lo jy kp lp lq ka kt lr ls kc kx lt lu ke lv bi translated"><strong class="ak">什么是Git？</strong></h2><p id="aacb" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">简而言之，git是一个超级有用的工具，用于管理应用程序内部随着时间的推移所做的更改。它是为协调程序员之间的工作而设计的，但它也可以用来跟踪软件开发过程中任何一组文件的变化。</p><p id="df3a" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">有很多我已经熟悉的命令，比如<em class="lc"> git status、git add、git commit、git checkout -b、git checkout、git push、</em>和<em class="lc"> git pull。</em>我不太熟悉的一个命令是rebase命令，我将在下面讨论它。</p><h2 id="ff2e" class="li jp hi bd jq lj lk ll ju lm ln lo jy kp lp lq ka kt lr ls kc kx lt lu ke lv bi translated">什么是Git Rebase？</h2><p id="b67c" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">在git中，rebase命令将一个分支的更改集成到另一个分支中。它是更广为人知的<em class="lc">合并</em>命令的替代命令。然而，<em class="lc">合并</em>命令实际上将两个分支整合成一个分支。</p><blockquote class="lw lx ly"><p id="18a4" class="kg kh lc ki b kj ld ij kl km le im ko lz lf kr ks ma lg kv kw mb lh kz la lb hb bi translated"><em class="hi">“那么git rebase和git merge的区别是什么？”</em></p></blockquote><p id="15d9" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">我记得问过我的导师这个问题，因为这两个命令从定义上看非常相似。这两个命令的目的相同，都是将多个分支中的变更集成到一个分支中。这两个命令的区别在于实现的过程。例如，<em class="lc"> git rebase </em>将重写提交历史以产生一个直接的线性提交历史。相反，<em class="lc"> git merge </em>将保持提交的git历史并按时间顺序排列。然而，与<strong class="ki mc">合并</strong>不同的是，<strong class="ki mc">重置</strong>将使提交历史变平，并将已完成的工作从一个分支转移到另一个分支。</p><h2 id="814e" class="li jp hi bd jq lj lk ll ju lm ln lo jy kp lp lq ka kt lr ls kc kx lt lu ke lv bi translated">如何在Vim中使用Git Rebase</h2><p id="4f7b" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">接下来，我们将讨论如何使用VIM接口将一个特性分支转换成主分支。您还可以使用自动化的重新基础化来重新基础化您的提交，但是，交互式的重新基础化有助于简化这个过程，从而减少混淆。它使您可以完全控制功能分支的提交历史。</p><p id="5b3a" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">首先，打开终端，导航到项目的根目录，并键入:</p><p id="1756" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated"><code class="du md me mf mg b">git checkout name-of-feature-branch</code></p><p id="3833" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">要查看该分支及其所有分支的过去提交消息的打印列表，请键入:</p><p id="4e28" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated"><code class="du md me mf mg b">git log --oneline</code></p><p id="78a9" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">这将打印出如下所示的内容:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mh"><img src="../Images/508775f1f9dc4ed5c6b778906b3e5dfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-M2ppvxX49QkXrmr98cFkw.png"/></div></div></figure><p id="2348" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">在这个例子中，我们将重新定义与<code class="du md me mf mg b">features/addFooter</code>分支相关的提交。</p><p id="851a" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">黄色的一系列数字和字母是SSH密钥。我们将使用这些键来执行我们的rebase。为了检索功能分支类型的所有提交:</p><p id="a25a" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated"><code class="du md me mf mg b">git rebase -i f8e1242</code></p><p id="a09d" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">这个SSH密钥(f8e1242)不返回它本身或它之前的任何内容，而是返回它上面的所有提交。</p><p id="87ad" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">或者</p><p id="3463" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated"><code class="du md me mf mg b">git rebase -i HEAD~3</code></p><p id="85f0" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">从特征分支的头部开始，有3个提交与该分支相关联。</p><p id="74d8" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">接下来，您应该会看到交互式控制台，在其中您可以简单地按“I”进入插入模式，然后执行下面列出的任何命令。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mi"><img src="../Images/ead415ca598aedd61df27e12f65ff2e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-C35OcpuzrHY5IMar2TN4w.png"/></div></div></figure><p id="4788" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">在这种情况下，我们将挤压我们的提交，这样我们就可以有线性提交历史。重要的是要知道，在VIM中，提交的顺序是相反的。另外，顶部的commit消息不能被挤压，但是下面的可以使用squash (s)命令。简单地用<code class="du md me mf mg b">squash</code>代替进程<code class="du md me mf mg b">pick</code>，或者你可以用<code class="du md me mf mg b">s</code>来简化它。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mj"><img src="../Images/d0df680b3875473f5b735f5a8641b427.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*unOvzNLWOX1tSb4_uJL4Dw.png"/></div></div></figure><p id="848d" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">要退出插入模式，只需按下<code class="du md me mf mg b">esc</code>然后按下<code class="du md me mf mg b">:wq</code>或<code class="du md me mf mg b">:w</code>然后按下<code class="du md me mf mg b">:q </code>即可进入该屏幕。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mk"><img src="../Images/1c56a0b8960ebe250852d55d75b6c10d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cuKj2L2jhSCmVVGqefE2LA.png"/></div></div></figure><p id="ea56" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">进入插入模式后，我们可以更改消息，添加消息，甚至忽略它们。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ml"><img src="../Images/d4d8f5fec4d9247e0e002c17b2aee278.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NAQqLyIHMCokMv1jvolxBw.png"/></div></div></figure><p id="ab1e" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">对所做的更改感到满意后，您会注意到当您尝试将更改推送到要素分支时会出现错误。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mm"><img src="../Images/4a4459df12be0f2c2ab1c8c3b7f3ba4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QXiVA8hnIHm1Vcc-Q8LdSQ.png"/></div></div></figure><p id="1c91" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">因为我们正在重写提交历史，所以我们必须用<code class="du md me mf mg b">--f</code>标记我们的推送</p><p id="cc2e" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated"><code class="du md me mf mg b">git push features/addFooter --force</code></p><p id="c324" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">因此git知道这是正确的提交历史，现在将与这个分支相关联。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mn"><img src="../Images/b1c7f6670233629dae2b0a59e0e26adc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZdYliJD0zSvNbxcSfr5o4w.png"/></div></div></figure><p id="ab97" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">当我们在Github上查看提交历史时，我们会看到我们的提交历史现在是统一的，并且更加集中。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mo"><img src="../Images/2fca661ca4f9c774a05bad1243917a75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IVCmw11sfvSi3j84LdrCIQ.png"/></div></div></figure><p id="f8e0" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">现在你知道了！你刚刚表演了你的第一个rebase！恭喜你！</p><h1 id="b61e" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated"><strong class="ak">结论</strong></h1><p id="bd4c" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">如果你发现你卡住了，试着再看一遍这个教程。在您的特性分支上，有不止一种方法来对您的提交进行重定基础，交互式重定基础只是其中的一种。假设在这个例子中，我们只是重定了一些提交的基础，当你有一个相对长的提交历史时，重定基础可以被证明是更有效的。我发现交互式重置基础对我来说是最用户友好的，因为我学会了这个过程，我希望你也一样！</p><p id="c81f" class="pw-post-body-paragraph kg kh hi ki b kj ld ij kl km le im ko kp lf kr ks kt lg kv kw kx lh kz la lb hb bi translated">如果你遇到困难，我在下面提供了一些有用的资源:</p><div class="mp mq ez fb mr ms"><a rel="noopener follow" target="_blank" href="/@lucaspenzeymoog/intro-to-interactive-rebasing-in-git-and-customizing-vim-preferences-b6e2f0309e31"><div class="mt ab dw"><div class="mu ab mv cl cj mw"><h2 class="hj b fi z dy mx ea eb my ed ef hh bi translated">Git中的交互式基础介绍和定制Vim首选项</h2><div class="mz l"><h3 class="bd b fi z dy mx ea eb my ed ef dx translated">这对于一些人来说已经是旧闻了，但是我总是被告知要写你希望在开始时就写的博客文章…</h3></div><div class="na l"><p class="bd b fp z dy mx ea eb my ed ef dx translated">medium.com</p></div></div><div class="nb l"><div class="nc l nd ne nf nb ng jh ms"/></div></div></a></div><div class="mp mq ez fb mr ms"><a href="https://medium.freecodecamp.org/an-introduction-to-git-merge-and-rebase-what-they-are-and-how-to-use-them-131b863785f" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab dw"><div class="mu ab mv cl cj mw"><h2 class="hj b fi z dy mx ea eb my ed ef hh bi translated">Git merge和rebase简介:它们是什么，以及如何使用它们</h2><div class="mz l"><h3 class="bd b fi z dy mx ea eb my ed ef dx translated">作为一名开发人员，我们中的许多人不得不在合并和重建基础之间做出选择。通过我们从互联网上获得的所有参考资料…</h3></div><div class="na l"><p class="bd b fp z dy mx ea eb my ed ef dx translated">medium.freecodecamp.org</p></div></div><div class="nb l"><div class="nh l nd ne nf nb ng jh ms"/></div></div></a></div><div class="mp mq ez fb mr ms"><a rel="noopener follow" target="_blank" href="/@lucaspenzeymoog/rebasing-in-style-how-to-customize-vim-preferences-3457c034b5e0"><div class="mt ab dw"><div class="mu ab mv cl cj mw"><h2 class="hj b fi z dy mx ea eb my ed ef hh bi translated">改变风格:如何定制Vim首选项</h2><div class="mz l"><h3 class="bd b fi z dy mx ea eb my ed ef dx translated">这是我几天前在Git帖子中介绍交互式重定基础的延续，所以如果你想的话，可以从这里开始…</h3></div><div class="na l"><p class="bd b fp z dy mx ea eb my ed ef dx translated">medium.com</p></div></div><div class="nb l"><div class="ni l nd ne nf nb ng jh ms"/></div></div></a></div><div class="mp mq ez fb mr ms"><a href="https://dev.to/maxwell_dev/the-git-rebase-introduction-i-wish-id-had" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab dw"><div class="mu ab mv cl cj mw"><h2 class="hj b fi z dy mx ea eb my ed ef hh bi translated">我希望我有Git Rebase介绍</h2><div class="mz l"><h3 class="bd b fi z dy mx ea eb my ed ef dx translated">在我的新工作中，最重要的(也是最令人困惑的)git特性之一是重定基础。现在回想起来，最糟糕的部分是…</h3></div><div class="na l"><p class="bd b fp z dy mx ea eb my ed ef dx translated">开发到</p></div></div><div class="nb l"><div class="nj l nd ne nf nb ng jh ms"/></div></div></a></div></div></div>    
</body>
</html>